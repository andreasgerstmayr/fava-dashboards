// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Dashboard: HTML Snapshot Tests Assets 1`] = `
<style type="text/css">
  #dashboard {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}
#dashboard .panel {
    padding: 20px;
    min-width: 300px;
}
#dashboard .panel h2 {
    text-align: center;
}

/* set panel min-width to 100% on screens
  < 802px (navbar + padding + 2*300px) */
@media (max-width: 802px) {
    #dashboard .panel {
        min-width: 100%;
    }
}
</style>
<script id="favaDashboardsBootstrap"
        type="application/json"
>
  {
  "dashboardId": 1,
  "dashboards": [
    {
      "name": "Overview",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Assets:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ?? 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Assets \\ud83d\\udcb0",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Liabilities:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ? -value : 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Liabilities \\ud83d\\udcb3",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "520px",
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Income/?time={time}",
              "name": "Income",
              "stack": "income"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Income/Expenses \\ud83d\\udcb8",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Assets",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "link": "/beancount/account/{account}/?time={time}",
              "result": [
                {
                  "market_value": {
                    "USD": 1849.80
                  },
                  "units": {
                    "USD": 1849.80
                  }
                },
                {
                  "market_value": {
                    "USD": 3850.56
                  },
                  "units": {
                    "VHT": 16
                  }
                },
                {
                  "market_value": {
                    "USD": 4457.40
                  },
                  "units": {
                    "VEA": 19
                  }
                },
                {
                  "market_value": {
                    "USD": 4975.95
                  },
                  "units": {
                    "ITOT": 49
                  }
                },
                {
                  "market_value": {
                    "USD": 7517.64
                  },
                  "units": {
                    "GLD": 52
                  }
                },
                {
                  "market_value": {
                    "USD": 28014.42410
                  },
                  "units": {
                    "VBMPX": 175.474
                  }
                },
                {
                  "market_value": {
                    "USD": 45877.18693
                  },
                  "units": {
                    "RGAGX": 313.219
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nconst data = panel.queries[0].result\\n  .filter((row) =\\u003e row.market_value[ledger.ccy])\\n  .map((row) =\\u003e ({ name: Object.keys(row.units)[0], value: row.market_value[ledger.ccy] }));\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${\\n        ledger.commodities[params.name]?.meta.name ?? params.name\\n      } \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${params.percent.toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"pie\\",\\n      data,\\n    },\\n  ],\\n};\\n",
          "title": "Assets \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/balance_sheet/?time={time}",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 9234.73618
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 12430.84356
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 15638.84345
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 18674.87320
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 21716.41678
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 24435.59516
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 30611.69697
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 31735.46788
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 34045.40396
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 36077.40796
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 37174.07826
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 42493.75704
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 45723.39256
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 49281.63140
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 51746.88049
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 55400.47188
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 58680.93796
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 63628.97993
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 71450.90651
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 76042.56887
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 77417.29226
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 80058.06354
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 81316.15822
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 88062.05306
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 90631.22126
                  },
                  "year": 2022
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 96542.96103
                  },
                  "year": 2022
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Net Worth \\ud83d\\udcb0",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n",
              "result": [
                {
                  "book_value": {
                    "USD": 3599.99946
                  },
                  "market_value": {
                    "USD": 3611.37618
                  },
                  "month": 1,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 7200.06625
                  },
                  "market_value": {
                    "USD": 7222.50356
                  },
                  "month": 2,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 12599.96893
                  },
                  "market_value": {
                    "USD": 12900.13345
                  },
                  "month": 3,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 16200.01221
                  },
                  "market_value": {
                    "USD": 16497.38320
                  },
                  "month": 4,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 19800.01853
                  },
                  "market_value": {
                    "USD": 20243.70678
                  },
                  "month": 5,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 23400.09094
                  },
                  "market_value": {
                    "USD": 23743.73516
                  },
                  "month": 6,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 27000.00664
                  },
                  "market_value": {
                    "USD": 27991.71697
                  },
                  "month": 7,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 27749.99721
                  },
                  "market_value": {
                    "USD": 27986.69788
                  },
                  "month": 8,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 30765.75721
                  },
                  "market_value": {
                    "USD": 31819.84796
                  },
                  "month": 10,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 35149.91721
                  },
                  "market_value": {
                    "USD": 36024.23704
                  },
                  "month": 12,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 36949.93509
                  },
                  "market_value": {
                    "USD": 38083.17256
                  },
                  "month": 1,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 40549.96705
                  },
                  "market_value": {
                    "USD": 42405.82140
                  },
                  "month": 2,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 45949.91733
                  },
                  "market_value": {
                    "USD": 48302.62049
                  },
                  "month": 3,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 49107.66433
                  },
                  "market_value": {
                    "USD": 51916.66188
                  },
                  "month": 4,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 52707.78377
                  },
                  "market_value": {
                    "USD": 56016.53796
                  },
                  "month": 5,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 56307.87973
                  },
                  "market_value": {
                    "USD": 61667.75993
                  },
                  "month": 6,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 59907.70479
                  },
                  "market_value": {
                    "USD": 67056.69651
                  },
                  "month": 7,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 62457.82171
                  },
                  "market_value": {
                    "USD": 71951.79887
                  },
                  "month": 8,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 67432.45171
                  },
                  "market_value": {
                    "USD": 76123.40226
                  },
                  "month": 9,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 71152.99171
                  },
                  "market_value": {
                    "USD": 80617.00354
                  },
                  "month": 10,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 70115.34171
                  },
                  "market_value": {
                    "USD": 78832.56822
                  },
                  "month": 11,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 75663.47171
                  },
                  "market_value": {
                    "USD": 86767.18306
                  },
                  "month": 12,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 79263.30370
                  },
                  "market_value": {
                    "USD": 90114.53126
                  },
                  "month": 1,
                  "year": 2022
                },
                {
                  "book_value": {
                    "USD": 82863.45951
                  },
                  "market_value": {
                    "USD": 94693.16103
                  },
                  "month": 2,
                  "year": 2022
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = {\\n    market_value: row.market_value[ledger.ccy],\\n    book_value: row.book_value[ledger.ccy],\\n  };\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      name: \\"Market Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.market_value),\\n    },\\n    {\\n      type: \\"line\\",\\n      name: \\"Book Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.book_value),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Portfolio \\ud83d\\udcc8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n",
              "result": [
                {
                  "book_value": {
                    "USD": 3599.99946
                  },
                  "market_value": {
                    "USD": 3611.37618
                  },
                  "month": 1,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 7200.06625
                  },
                  "market_value": {
                    "USD": 7222.50356
                  },
                  "month": 2,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 12599.96893
                  },
                  "market_value": {
                    "USD": 12900.13345
                  },
                  "month": 3,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 16200.01221
                  },
                  "market_value": {
                    "USD": 16497.38320
                  },
                  "month": 4,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 19800.01853
                  },
                  "market_value": {
                    "USD": 20243.70678
                  },
                  "month": 5,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 23400.09094
                  },
                  "market_value": {
                    "USD": 23743.73516
                  },
                  "month": 6,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 27000.00664
                  },
                  "market_value": {
                    "USD": 27991.71697
                  },
                  "month": 7,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 27749.99721
                  },
                  "market_value": {
                    "USD": 27986.69788
                  },
                  "month": 8,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 30765.75721
                  },
                  "market_value": {
                    "USD": 31819.84796
                  },
                  "month": 10,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 35149.91721
                  },
                  "market_value": {
                    "USD": 36024.23704
                  },
                  "month": 12,
                  "year": 2020
                },
                {
                  "book_value": {
                    "USD": 36949.93509
                  },
                  "market_value": {
                    "USD": 38083.17256
                  },
                  "month": 1,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 40549.96705
                  },
                  "market_value": {
                    "USD": 42405.82140
                  },
                  "month": 2,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 45949.91733
                  },
                  "market_value": {
                    "USD": 48302.62049
                  },
                  "month": 3,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 49107.66433
                  },
                  "market_value": {
                    "USD": 51916.66188
                  },
                  "month": 4,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 52707.78377
                  },
                  "market_value": {
                    "USD": 56016.53796
                  },
                  "month": 5,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 56307.87973
                  },
                  "market_value": {
                    "USD": 61667.75993
                  },
                  "month": 6,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 59907.70479
                  },
                  "market_value": {
                    "USD": 67056.69651
                  },
                  "month": 7,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 62457.82171
                  },
                  "market_value": {
                    "USD": 71951.79887
                  },
                  "month": 8,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 67432.45171
                  },
                  "market_value": {
                    "USD": 76123.40226
                  },
                  "month": 9,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 71152.99171
                  },
                  "market_value": {
                    "USD": 80617.00354
                  },
                  "month": 10,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 70115.34171
                  },
                  "market_value": {
                    "USD": 78832.56822
                  },
                  "month": 11,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 75663.47171
                  },
                  "market_value": {
                    "USD": 86767.18306
                  },
                  "month": 12,
                  "year": 2021
                },
                {
                  "book_value": {
                    "USD": 79263.30370
                  },
                  "market_value": {
                    "USD": 90114.53126
                  },
                  "month": 1,
                  "year": 2022
                },
                {
                  "book_value": {
                    "USD": 82863.45951
                  },
                  "market_value": {
                    "USD": 94693.16103
                  },
                  "month": 2,
                  "year": 2022
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.market_value[ledger.ccy] - row.book_value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n};\\n",
          "title": "Portfolio Gains \\u2728",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "result": [
                {
                  "market_value": {
                    "USD": 1849.80
                  },
                  "units": {
                    "USD": 1849.80
                  }
                },
                {
                  "market_value": {
                    "USD": 3850.56
                  },
                  "units": {
                    "VHT": 16
                  }
                },
                {
                  "market_value": {
                    "USD": 4457.40
                  },
                  "units": {
                    "VEA": 19
                  }
                },
                {
                  "market_value": {
                    "USD": 4975.95
                  },
                  "units": {
                    "ITOT": 49
                  }
                },
                {
                  "market_value": {
                    "USD": 7517.64
                  },
                  "units": {
                    "GLD": 52
                  }
                },
                {
                  "market_value": {
                    "USD": 28014.42410
                  },
                  "units": {
                    "VBMPX": 175.474
                  }
                },
                {
                  "market_value": {
                    "USD": 45877.18693
                  },
                  "units": {
                    "RGAGX": 313.219
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Asset Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "result": [
                {
                  "market_value": {
                    "USD": 3850.56
                  },
                  "units": {
                    "VHT": 16
                  }
                },
                {
                  "market_value": {
                    "USD": 4457.40
                  },
                  "units": {
                    "VEA": 19
                  }
                },
                {
                  "market_value": {
                    "USD": 4975.95
                  },
                  "units": {
                    "ITOT": 49
                  }
                },
                {
                  "market_value": {
                    "USD": 7517.64
                  },
                  "units": {
                    "GLD": 52
                  }
                },
                {
                  "market_value": {
                    "USD": 28014.42410
                  },
                  "units": {
                    "VBMPX": 175.474
                  }
                },
                {
                  "market_value": {
                    "USD": 45877.18693
                  },
                  "units": {
                    "RGAGX": 313.219
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Investment Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "result": [
                {
                  "market_value": {
                    "USD": 1849.80
                  },
                  "units": {
                    "USD": 1849.80
                  }
                },
                {
                  "market_value": {
                    "USD": 3850.56
                  },
                  "units": {
                    "VHT": 16
                  }
                },
                {
                  "market_value": {
                    "USD": 4457.40
                  },
                  "units": {
                    "VEA": 19
                  }
                },
                {
                  "market_value": {
                    "USD": 4975.95
                  },
                  "units": {
                    "ITOT": 49
                  }
                },
                {
                  "market_value": {
                    "USD": 7517.64
                  },
                  "units": {
                    "GLD": 52
                  }
                },
                {
                  "market_value": {
                    "USD": 28014.42410
                  },
                  "units": {
                    "VBMPX": 175.474
                  }
                },
                {
                  "market_value": {
                    "USD": 45877.18693
                  },
                  "units": {
                    "RGAGX": 313.219
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Assets Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "result": [
                {
                  "market_value": {
                    "USD": 3850.56
                  },
                  "units": {
                    "VHT": 16
                  }
                },
                {
                  "market_value": {
                    "USD": 4457.40
                  },
                  "units": {
                    "VEA": 19
                  }
                },
                {
                  "market_value": {
                    "USD": 4975.95
                  },
                  "units": {
                    "ITOT": 49
                  }
                },
                {
                  "market_value": {
                    "USD": 7517.64
                  },
                  "units": {
                    "GLD": 52
                  }
                },
                {
                  "market_value": {
                    "USD": 28014.42410
                  },
                  "units": {
                    "VBMPX": 175.474
                  }
                },
                {
                  "market_value": {
                    "USD": 45877.18693
                  },
                  "units": {
                    "RGAGX": 313.219
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Investments Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        }
      ]
    },
    {
      "name": "Income and Expenses",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(-panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Income per Month \\ud83d\\udcb0",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Expenses per Month \\ud83d\\udcb8",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027"
            },
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst percentFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"percent\\",\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst income = -panel.queries[0].result[0].value[ledger.ccy];\\nconst expenses = panel.queries[1].result[0].value[ledger.ccy];\\nconst rate = (income - expenses) / months;\\nconst ratePercent = 1 - expenses / income;\\nconst value = \`\${currencyFormat.format(rate)} (\${percentFormat.format(ratePercent)})\`;\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Savings per Month \\u2728",
          "type": "html",
          "width": "33.3%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 4) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e -row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Income\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Income Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 3) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Expenses\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Expenses Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#recurring\\u0026time={time}",
              "name": "Recurring",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=-#recurring\\u0026time={time}",
              "name": "Irregular",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Recurring Expenses \\ud83d\\udd01",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: months.map((month) =\\u003e amounts[month] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Food Expenses \\ud83e\\udd50",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = [\\n  \\"January\\",\\n  \\"February\\",\\n  \\"March\\",\\n  \\"April\\",\\n  \\"Mai\\",\\n  \\"June\\",\\n  \\"July\\",\\n  \\"August\\",\\n  \\"September\\",\\n  \\"Oktober\\",\\n  \\"November\\",\\n  \\"December\\",\\n];\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n  }\\n}\\n\\nlet series = [];\\nfor (let query of panel.queries) {\\n  for (let year of years) {\\n    series.push({\\n      type: \\"bar\\",\\n      name: query.name,\\n      stack: year,\\n      blub: 5,\\n      data: months.map((_, i) =\\u003e amounts[query.name][\`\${i + 1}/\${year}\`] ?? 0),\\n    });\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e {\\n      const month = params.dataIndex + 1;\\n      const stackIdx = params.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      return \`\${params.seriesName}\\u003cbr\\u003e\${\\n        params.marker\\n      } \${month}/\${year} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e\`;\\n    },\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const month = event.dataIndex + 1;\\n      const stackIdx = event.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.toString().padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Expenses Year-Over-Year \\ud83d\\udcb8",
          "type": "echarts"
        },
        {
          "queries": [
            {
              "bql": "SELECT date, payee, narration, position WHERE account ~ \\"^Expenses:\\" ORDER BY position DESC LIMIT 10"
            }
          ],
          "template": "{% import \\"_query_table.html\\" as querytable %}\\n{{ querytable.querytable(favaledger, None, panel.queries[0].result_types, panel.queries[0].result) }}\\n",
          "title": "Top 10 biggest expenses",
          "type": "jinja2"
        }
      ]
    },
    {
      "name": "Travelling",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT year, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by year\\nfor (let row of panel.queries[0].result) {\\n  amounts[row.year] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: years,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: years.map((year) =\\u003e amounts[year] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Travel Costs per Year \\ud83d\\udcc5",
          "type": "echarts"
        },
        {
          "height": "300px",
          "queries": [
            {
              "bql": "SELECT tags, CONVERT(position, \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nORDER BY date, tags\\n",
              "link": "/beancount/account/Expenses/?filter=#{travel}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst travels = [];\\nconst amounts = {};\\n\\nfor (let row of panel.queries[0].result) {\\n  const tag = row.tags.find((tag) =\\u003e tag.match(/\\\\-\\\\d{4}/));\\n  if (!(tag in amounts)) {\\n    travels.unshift(tag);\\n    amounts[tag] = 0;\\n  }\\n  amounts[tag] += row.value.number;\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  grid: {\\n    left: \\"150px\\",\\n  },\\n  xAxis: {\\n    type: \\"value\\",\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  yAxis: {\\n    type: \\"category\\",\\n    data: travels,\\n  },\\n  series: [\\n    {\\n      type: \\"bar\\",\\n      data: travels.map((travel) =\\u003e amounts[travel]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{travel}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Destinations \\u2708\\ufe0f",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Sankey",
      "panels": [
        {
          "height": "800px",
          "queries": [
            {
              "bql": "SELECT account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^(Income|Expenses):\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12); // monthly\\nconst valueThreshold = 10; // skip nodes below this value\\n\\nconst nodes = [{ name: \\"Income\\" }];\\nconst links = [];\\nfunction addNode(root) {\\n  for (let node of root.children) {\\n    let label = node.name.split(\\":\\").pop();\\n\\n    // skip over pass-through accounts\\n    while (node.children.length === 1) {\\n      node = node.children[0];\\n      label += \\":\\" + node.name.split(\\":\\").pop();\\n    }\\n\\n    // skip nodes below the threshold\\n    if (Math.abs(node.value / divisor) \\u003c valueThreshold) continue;\\n\\n    nodes.push({ name: node.name, label });\\n    if (node.name.startsWith(\\"Income\\")) {\\n      links.push({ source: node.name, target: root.name, value: -node.value / divisor });\\n    } else {\\n      links.push({\\n        source: root.name == \\"Expenses\\" ? \\"Income\\" : root.name,\\n        target: node.name,\\n        value: node.value / divisor,\\n      });\\n    }\\n    addNode(node);\\n  }\\n}\\n\\nconst accountTree = helpers.buildAccountTree(panel.queries[0].result, (row) =\\u003e row.value[ledger.ccy]);\\naddNode(accountTree.children[0]);\\naddNode(accountTree.children[1]);\\n\\nconst savings =\\n  accountTree.children[0].name === \\"Income\\"\\n    ? -accountTree.children[0].value - accountTree.children[1].value\\n    : -accountTree.children[1].value - accountTree.children[0].value;\\nif (savings \\u003e 0) {\\n  nodes.push({ name: \\"Savings\\" });\\n  links.push({ source: \\"Income\\", target: \\"Savings\\", value: savings / divisor });\\n}\\n\\nreturn {\\n  align: \\"left\\",\\n  valueFormatter: currencyFormat.format,\\n  data: {\\n    nodes,\\n    links,\\n  },\\n  onClick: (event, node) =\\u003e {\\n    if (node.name === \\"Savings\\") return;\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", node.name).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Sankey (per month) \\ud83d\\udcb8",
          "type": "d3_sankey"
        }
      ]
    }
  ],
  "ledger": {
    "ccy": "USD",
    "commodities": {
      "GLD": {
        "currency": "GLD",
        "date": "2004-11-01",
        "meta": {
          "asset_allocation_Commodity_Gold": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:GLD",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 52,
          "name": "SPDR Gold Trust (ETF)",
          "price": "USD:google/NYSEARCA:GLD"
        }
      },
      "ITOT": {
        "currency": "ITOT",
        "date": "2004-01-20",
        "meta": {
          "asset_allocation_Equity_Market_NonUS": 1,
          "asset_allocation_Equity_Market_US": 99,
          "asset_class": "ETF",
          "export": "NYSEARCA:ITOT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 37,
          "name": "iShares Core S\\u0026P Total U.S. Stock Market ETF",
          "price": "USD:google/NYSEARCA:ITOT"
        }
      },
      "RGAGX": {
        "currency": "RGAGX",
        "date": "2009-05-01",
        "meta": {
          "asset_allocation_Bond_Cash": 10,
          "asset_allocation_Equity_Market_NonUS": 11,
          "asset_allocation_Equity_Market_US": 79,
          "asset_class": "Fund",
          "export": "MUTF:RGAGX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 66,
          "name": "American Funds The Growth Fund of America Class R-6",
          "price": "USD:google/MUTF:RGAGX"
        }
      },
      "USD": {
        "currency": "USD",
        "date": "1792-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 100,
          "asset_class": "Cash",
          "export": "CASH",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 16,
          "name": "US Dollar"
        }
      },
      "VBMPX": {
        "currency": "VBMPX",
        "date": "1995-09-18",
        "meta": {
          "asset_allocation_Bond_NonUS": 9,
          "asset_allocation_Bond_US": 91,
          "asset_class": "Fund",
          "export": "MUTF:VBMPX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 29,
          "name": "Vanguard Total Bond Market Index Fund Institutional Plus Shares",
          "price": "USD:google/MUTF:VBMPX"
        }
      },
      "VEA": {
        "currency": "VEA",
        "date": "2007-07-20",
        "meta": {
          "asset_allocation_Equity_Market_DevelopedWorld": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VEA",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 59,
          "name": "Vanguard FTSE Developed Markets ETF",
          "price": "USD:google/NYSEARCA:VEA"
        }
      },
      "VHT": {
        "currency": "VHT",
        "date": "2004-01-26",
        "meta": {
          "asset_allocation_Equity_Sector_Health": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VHT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 45,
          "name": "Vanguard Health Care ETF",
          "price": "USD:google/NYSEARCA:VHT"
        }
      },
      "VMMXX": {
        "currency": "VMMXX",
        "date": "1900-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 82,
          "asset_allocation_Bond_US": 18,
          "asset_class": "Fund",
          "export": "MUTF:VMMXX (MONEY:USD)",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 22,
          "name": "Vanguard Cash Reserves Federal Money Market Fund"
        }
      }
    },
    "dateFirst": "2020-01-01",
    "dateLast": "2022-02-28",
    "operatingCurrencies": [
      "USD"
    ]
  }
}
</script>
<div class="headerline">
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=0">
      Overview
    </a>
  </h3>
  <h3>
    Assets
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=2">
      Income and Expenses
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=3">
      Travelling
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=4">
      Sankey
    </a>
  </h3>
</div>
<div id="dashboard">
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Assets 
    </h2>
    <div id="panel0"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M358.5237 50.2717L359.426 35.2988L374.426 35.2988"
                  fill="none"
                  stroke="#5470c6"
            >
            </path>
            <path d="M385.9837 54.5045L412.6776 49.3988L427.6776 49.3988"
                  fill="none"
                  stroke="#91cc75"
            >
            </path>
            <path d="M423.5156 69.5328L437.6546 63.4988L452.6546 63.4988"
                  fill="none"
                  stroke="#fac858"
            >
            </path>
            <path d="M459.4791 97.997L465.7151 87.7967L480.7151 87.7967"
                  fill="none"
                  stroke="#ee6666"
            >
            </path>
            <path d="M490.8512 149.802L500.0312 144.7822L515.0312 144.7822"
                  fill="none"
                  stroke="#73c0de"
            >
            </path>
            <path d="M452.3795 309.1596L462.6674 320.0755L477.6674 320.0755"
                  fill="none"
                  stroke="#3ba272"
            >
            </path>
            <path d="M199.955 188.325L185.0006 187.1575L170.0006 187.1575"
                  fill="none"
                  stroke="#fc8452"
            >
            </path>
            <path d="M349.5 50A150 150 0 0 1 367.5146 51.0857L349.5 200Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M367.5146 51.0857A150 150 0 0 1 403.8807 60.2046L349.5 200Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M403.8807 60.2046A150 150 0 0 1 441.596 81.601L349.5 200Z"
                  fill="#fac858"
            >
            </path>
            <path d="M441.596 81.601A150 150 0 0 1 474.4849 117.0616L349.5 200Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M474.4849 117.0616A150 150 0 0 1 498.8006 185.5315L349.5 200Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M498.8006 185.5315A150 150 0 0 1 326.2207 348.1826L349.5 200Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M326.2208 348.1826A150 150 0 0 1 349.5 50L349.5 200Z"
                  fill="#fc8452"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(379.426 35.2988)"
                  fill="#333"
                  stroke="rgb(255,255,255)"
                  stroke-width="2"
                  paint-order="stroke"
                  stroke-miterlimit="2"
            >
              USD
            </text>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(432.6776 49.3988)"
                  fill="#333"
                  stroke="rgb(255,255,255)"
                  stroke-width="2"
                  paint-order="stroke"
                  stroke-miterlimit="2"
            >
              VHT
            </text>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(457.6546 63.4988)"
                  fill="#333"
                  stroke="rgb(255,255,255)"
                  stroke-width="2"
                  paint-order="stroke"
                  stroke-miterlimit="2"
            >
              VEA
            </text>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(485.7151 87.7967)"
                  fill="#333"
                  stroke="rgb(255,255,255)"
                  stroke-width="2"
                  paint-order="stroke"
                  stroke-miterlimit="2"
            >
              ITOT
            </text>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(520.0312 144.7822)"
                  fill="#333"
                  stroke="rgb(255,255,255)"
                  stroke-width="2"
                  paint-order="stroke"
                  stroke-miterlimit="2"
            >
              GLD
            </text>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(482.6674 320.0755)"
                  fill="#333"
                  stroke="rgb(255,255,255)"
                  stroke-width="2"
                  paint-order="stroke"
                  stroke-miterlimit="2"
            >
              VBMPX
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(165.0006 187.1575)"
                  fill="#333"
                  stroke="rgb(255,255,255)"
                  stroke-width="2"
                  paint-order="stroke"
                  stroke-miterlimit="2"
            >
              RGAGX
            </text>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Net Worth 
    </h2>
    <div id="panel1"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 276.5L629.1 276.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 222.5L629.1 222.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 168.5L629.1 168.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 114.5L629.1 114.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 60.5L629.1 60.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M70.5 330L70.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M134.5 330L134.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M199.5 330L199.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M263.5 330L263.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M328.5 330L328.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M392.5 330L392.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M457.5 330L457.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M521.5 330L521.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M586.5 330L586.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M629.5 330L629.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 330)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 276)"
                  fill="#6E7079"
            >
              $20,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 222)"
                  fill="#6E7079"
            >
              $40,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 168)"
                  fill="#6E7079"
            >
              $60,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 114)"
                  fill="#6E7079"
            >
              $80,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 60)"
                  fill="#6E7079"
            >
              $100,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(80.6538 338)"
                  fill="#6E7079"
            >
              1/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(145.1769 338)"
                  fill="#6E7079"
            >
              4/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(209.7 338)"
                  fill="#6E7079"
            >
              7/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(274.2231 338)"
                  fill="#6E7079"
            >
              10/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(338.7462 338)"
                  fill="#6E7079"
            >
              1/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(403.2692 338)"
                  fill="#6E7079"
            >
              4/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(467.7923 338)"
                  fill="#6E7079"
            >
              7/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(532.3154 338)"
                  fill="#6E7079"
            >
              10/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(596.8385 338)"
                  fill="#6E7079"
            >
              1/2022
            </text>
            <g clip-path="url(#zr1-c0)">
              <path d="M80.6538 305.0662C80.6538 305.0662 91.4105 300.7584 102.1615 296.4367C112.9182 292.1128 112.8759 292.0053 123.6692 287.7751C134.3836 283.5758 134.4243 283.6797 145.1769 279.5779C155.932 275.475 155.8612 275.2793 166.6846 271.3657C177.3689 267.5023 178.405 269.4885 188.1923 264.0239C199.9127 257.4799 197.7388 251.1501 209.7 247.3484C219.2464 244.3142 220.6179 246.5966 231.2077 244.3142C242.1256 241.9611 241.914 241.0212 252.7154 238.0774C263.4216 235.1596 263.3502 234.7262 274.2231 232.591C284.8579 230.5025 285.9155 232.591 295.7308 229.63C307.4232 226.1027 305.9029 221.3498 317.2385 215.2669C327.4106 209.8083 328.0723 211.0946 338.7462 206.5468C349.58 201.931 349.2568 201.0974 360.2538 196.9396C370.7645 192.9657 371.275 194.311 381.7615 190.2834C392.7827 186.0505 392.4233 185.1393 403.2692 180.4187C413.9309 175.7783 414.4789 176.8803 424.7769 171.5615C435.9866 165.7718 436.4661 166.0718 446.2846 158.2018C457.9738 148.8323 455.998 146.2724 467.7923 137.0826C477.5057 129.514 477.8547 128.9069 489.3 124.6851C499.3624 120.9733 500.2552 123.633 510.8077 120.9733C521.7629 118.2121 521.3475 116.5274 532.3154 113.8432C542.8552 111.2639 544.4489 113.8432 553.8231 110.4464C565.9566 106.0496 563.3942 99.2117 575.3307 92.2325C584.9019 86.6363 586.9959 90.5352 596.8384 85.2957C608.5036 79.086 618.3461 69.334 618.3461 69.334"
                    fill="none"
                    stroke="#5470c6"
                    stroke-width="2"
                    stroke-linejoin="bevel"
              >
              </path>
            </g>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,80.6538,305.0662)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,102.1615,296.4367)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,123.6692,287.7751)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,145.1769,279.5779)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,166.6846,271.3657)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,188.1923,264.0239)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,209.7,247.3484)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,231.2077,244.3142)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,252.7154,238.0774)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,274.2231,232.591)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,295.7308,229.63)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,317.2385,215.2669)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,338.7462,206.5468)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,360.2538,196.9396)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,381.7615,190.2834)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,403.2692,180.4187)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,424.7769,171.5615)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,446.2846,158.2018)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,467.7923,137.0826)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,489.3,124.6851)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,510.8077,120.9733)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,532.3154,113.8432)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,553.8231,110.4464)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,575.3307,92.2325)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,596.8384,85.2957)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,618.3461,69.334)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
          </g>
          <defs>
            <clipPath id="zr1-c0">
              <path d="M68 59l561 0l0 272l-561 0Z"
                    fill="#000"
              >
              </path>
            </clipPath>
          </defs>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Portfolio 
    </h2>
    <div id="panel2"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 276.5L629.1 276.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 222.5L629.1 222.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 168.5L629.1 168.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 114.5L629.1 114.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 60.5L629.1 60.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M70.5 330L70.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M134.5 330L134.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M199.5 330L199.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M263.5 330L263.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M328.5 330L328.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M392.5 330L392.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M457.5 330L457.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M521.5 330L521.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M586.5 330L586.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M629.5 330L629.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 330)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 276)"
                  fill="#6E7079"
            >
              $20,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 222)"
                  fill="#6E7079"
            >
              $40,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 168)"
                  fill="#6E7079"
            >
              $60,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 114)"
                  fill="#6E7079"
            >
              $80,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 60)"
                  fill="#6E7079"
            >
              $100,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(80.6538 338)"
                  fill="#6E7079"
            >
              1/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(145.1769 338)"
                  fill="#6E7079"
            >
              4/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(209.7 338)"
                  fill="#6E7079"
            >
              7/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(274.2231 338)"
                  fill="#6E7079"
            >
              10/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(338.7462 338)"
                  fill="#6E7079"
            >
              1/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(403.2692 338)"
                  fill="#6E7079"
            >
              4/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(467.7923 338)"
                  fill="#6E7079"
            >
              7/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(532.3154 338)"
                  fill="#6E7079"
            >
              10/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(596.8385 338)"
                  fill="#6E7079"
            >
              1/2022
            </text>
            <g clip-path="url(#zr2-c0)">
              <path d="M80.6538 320.2493C80.6538 320.2493 92.009 316.4186 102.1615 310.4992C113.5167 303.8787 112.3106 301.7823 123.6692 295.1696C133.8183 289.2612 134.4613 290.3963 145.1769 285.4571C155.969 280.4825 155.8681 280.2618 166.6846 275.342C177.3758 270.4792 177.6367 271.0254 188.1923 265.8919C199.1444 260.5656 198.2742 254.4224 209.7 254.4224C219.7819 254.4224 220.6546 254.4359 231.2077 254.4359C252.9162 254.4359 252.7748 249.4968 274.2231 244.0864C295.7902 238.6461 295.7213 238.374 317.2385 232.7346C327.9828 229.9186 328.5119 231.2749 338.7462 227.1754C350.0196 222.6597 349.9805 222.0942 360.2538 215.5043C371.4882 208.2979 370.337 206.4031 381.7615 199.5829C391.8447 193.5635 392.6439 194.9697 403.2692 189.825C414.1516 184.5559 414.487 185.0534 424.7769 178.7553C435.9947 171.8894 435.4479 171.0066 446.2846 163.4971C456.9556 156.1024 456.8866 155.9866 467.7923 148.9469C478.3943 142.1032 478.3365 141.9695 489.3 135.7301C499.8441 129.7295 500.145 130.2662 510.8077 124.4668C521.6527 118.5682 520.951 112.3341 532.3154 112.3341C542.4587 112.3341 544.776 117.1521 553.8231 117.1521C566.2837 117.1521 563.1692 104.3408 575.3307 95.7286C584.6769 89.1101 586.4148 91.8765 596.8384 86.6908C607.9225 81.1765 618.3461 74.3285 618.3461 74.3285"
                    fill="none"
                    stroke="#5470c6"
                    stroke-width="2"
                    stroke-linejoin="bevel"
              >
              </path>
            </g>
            <g clip-path="url(#zr2-c1)">
              <path d="M80.6538 320.28C80.6538 320.28 91.9242 316.343 102.1615 310.5598C113.4319 304.1931 112.3989 302.3468 123.6692 295.9801C133.9066 290.1969 134.4231 291.12 145.1769 286.26C155.9308 281.4 155.9308 281.4 166.6846 276.5399C177.4385 271.6799 177.4384 271.6798 188.1923 266.8198C198.9461 261.9598 198.4706 259.3123 209.7 257.1C219.9782 255.075 220.5482 256.7547 231.2077 255.075C252.8097 251.671 252.9186 251.8802 274.2231 246.9324C295.934 241.8903 295.6478 240.6825 317.2385 235.0952C327.9093 232.3338 328.3579 233.7563 338.7462 230.2352C349.8656 226.4662 350.0165 226.2983 360.2538 220.5151C371.5242 214.1483 370.3842 212.0466 381.7615 205.9352C391.8919 200.4937 392.6227 201.9254 403.2692 197.4093C414.1304 192.8022 414.0231 192.5491 424.7769 187.689C435.5308 182.8288 435.5307 182.8287 446.2846 177.9687C457.0384 173.1088 456.8012 172.492 467.7923 168.2492C478.3089 164.1896 479.1685 166.1492 489.3 161.3639C500.6761 155.9907 499.6992 153.9952 510.8077 147.9324C521.2069 142.2567 521.0766 137.8869 532.3154 137.8869C542.5843 137.8869 544.0842 140.6886 553.8231 140.6886C565.5919 140.6886 564.0138 132.2068 575.3307 125.7086C585.5215 119.8571 586.0847 120.849 596.8384 115.9891C607.5924 111.1291 618.3461 106.2687 618.3461 106.2687"
                    fill="none"
                    stroke="#91cc75"
                    stroke-width="2"
                    stroke-linejoin="bevel"
              >
              </path>
            </g>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,80.6538,320.2493)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,102.1615,310.4992)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,123.6692,295.1696)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,145.1769,285.4571)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,166.6846,275.342)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,188.1923,265.8919)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,209.7,254.4224)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,231.2077,254.4359)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,274.2231,244.0864)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,317.2385,232.7346)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,338.7462,227.1754)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,360.2538,215.5043)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,381.7615,199.5829)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,403.2692,189.825)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,424.7769,178.7553)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,446.2846,163.4971)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,467.7923,148.9469)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,489.3,135.7301)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,510.8077,124.4668)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,532.3154,112.3341)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,553.8231,117.1521)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,575.3307,95.7286)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,596.8384,86.6908)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,618.3461,74.3285)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,80.6538,320.28)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,102.1615,310.5598)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,123.6692,295.9801)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,145.1769,286.26)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,166.6846,276.5399)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,188.1923,266.8198)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,209.7,257.1)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,231.2077,255.075)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,274.2231,246.9324)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,317.2385,235.0952)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,338.7462,230.2352)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,360.2538,220.5151)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,381.7615,205.9352)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,403.2692,197.4093)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,424.7769,187.689)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,446.2846,177.9687)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,467.7923,168.2492)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,489.3,161.3639)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,510.8077,147.9324)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,532.3154,137.8869)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,553.8231,140.6886)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,575.3307,125.7086)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,596.8384,115.9891)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,618.3461,106.2687)"
                  fill="#fff"
                  stroke="#91cc75"
            >
            </path>
            <path d="M-5 -5l212.3066 0l0 23.2l-212.3066 0Z"
                  transform="translate(248.3467 381.8)"
                  fill="rgb(0,0,0)"
                  fill-opacity="0"
                  stroke="#ccc"
                  stroke-width="0"
            >
            </path>
            <path d="M0 7L25 7"
                  transform="translate(249.3467 381.4)"
                  fill="#000"
                  stroke="#5470c6"
                  stroke-width="2"
                  stroke-linecap="butt"
                  stroke-miterlimit="10"
            >
            </path>
            <path d="M18.1 7A5.6 5.6 0 1 1 18.1 6.9994"
                  transform="translate(249.3467 381.4)"
                  fill="#fff"
                  stroke="#5470c6"
                  stroke-width="2"
                  stroke-linecap="butt"
                  stroke-miterlimit="10"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  xml:space="preserve"
                  x="30"
                  y="7"
                  transform="translate(249.3467 381.4)"
                  fill="#333"
            >
              Market Value
            </text>
            <path d="M0 7L25 7"
                  transform="translate(360.1611 381.4)"
                  fill="#000"
                  stroke="#91cc75"
                  stroke-width="2"
                  stroke-linecap="butt"
                  stroke-miterlimit="10"
            >
            </path>
            <path d="M18.1 7A5.6 5.6 0 1 1 18.1 6.9994"
                  transform="translate(360.1611 381.4)"
                  fill="#fff"
                  stroke="#91cc75"
                  stroke-width="2"
                  stroke-linecap="butt"
                  stroke-miterlimit="10"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  xml:space="preserve"
                  x="30"
                  y="7"
                  transform="translate(360.1611 381.4)"
                  fill="#333"
            >
              Book Value
            </text>
          </g>
          <defs>
            <clipPath id="zr2-c0">
              <path d="M68 59l561 0l0 272l-561 0Z"
                    fill="#000"
              >
              </path>
            </clipPath>
            <clipPath id="zr2-c1">
              <path d="M68 59l561 0l0 272l-561 0Z"
                    fill="#000"
              >
              </path>
            </clipPath>
          </defs>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Portfolio Gains 
    </h2>
    <div id="panel3"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 285.5L629.1 285.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 240.5L629.1 240.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 195.5L629.1 195.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 150.5L629.1 150.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 105.5L629.1 105.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 60.5L629.1 60.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M70.5 330L70.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M134.5 330L134.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M199.5 330L199.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M263.5 330L263.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M328.5 330L328.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M392.5 330L392.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M457.5 330L457.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M521.5 330L521.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M586.5 330L586.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M629.5 330L629.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 330)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 285)"
                  fill="#6E7079"
            >
              $2,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 240)"
                  fill="#6E7079"
            >
              $4,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 195)"
                  fill="#6E7079"
            >
              $6,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 150)"
                  fill="#6E7079"
            >
              $8,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 105)"
                  fill="#6E7079"
            >
              $10,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 60)"
                  fill="#6E7079"
            >
              $12,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(80.6538 338)"
                  fill="#6E7079"
            >
              1/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(145.1769 338)"
                  fill="#6E7079"
            >
              4/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(209.7 338)"
                  fill="#6E7079"
            >
              7/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(274.2231 338)"
                  fill="#6E7079"
            >
              10/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(338.7462 338)"
                  fill="#6E7079"
            >
              1/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(403.2692 338)"
                  fill="#6E7079"
            >
              4/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(467.7923 338)"
                  fill="#6E7079"
            >
              7/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(532.3154 338)"
                  fill="#6E7079"
            >
              10/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(596.8385 338)"
                  fill="#6E7079"
            >
              1/2022
            </text>
            <g clip-path="url(#zr3-c0)">
              <path d="M80.6538 329.744C80.6538 329.744 91.6252 329.744 102.1615 329.4951C113.1329 329.236 112.6976 323.2463 123.6692 323.2463C134.2053 323.2463 134.4853 323.3091 145.1769 323.3091C155.993 323.3091 155.8978 320.017 166.6846 320.017C177.4055 320.017 178.4232 322.268 188.1923 322.268C199.9308 322.268 199.2327 307.6865 209.7 307.6865C220.7404 307.6865 219.2895 324.6742 231.2077 324.6742C251.551 324.6742 251.8605 306.283 274.2231 306.283C294.8759 306.283 295.9541 310.3278 317.2385 310.3278C328.2157 310.3278 329.0141 309.4987 338.7462 304.5022C350.5218 298.4564 348.9283 295.4675 360.2538 288.2433C370.4359 281.7485 370.9166 282.471 381.7615 277.0642C392.4243 271.7481 392.6131 272.1264 403.2692 266.7975C414.1208 261.3709 417.8343 264.8165 424.7769 255.553C439.342 236.119 434.9432 232.1843 446.2846 209.4027C456.4509 188.9816 458.2265 189.8329 467.7923 169.1477C479.7342 143.3243 474.8943 116.3855 489.3 116.3855C496.402 116.3855 499.9711 134.4536 510.8077 134.4536C521.4788 134.4536 521.4895 117.0597 532.3154 117.0597C542.9972 117.0597 546.9281 133.8624 553.8231 133.8624C568.4358 133.8624 559.797 80.1665 575.3307 80.1665C581.3047 80.1665 587.8151 85.8474 596.8384 85.8474C609.3228 85.8474 618.3461 63.8317 618.3461 63.8317"
                    fill="none"
                    stroke="#5470c6"
                    stroke-width="2"
                    stroke-linejoin="bevel"
              >
              </path>
            </g>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,80.6538,329.744)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,102.1615,329.4951)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,123.6692,323.2463)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,145.1769,323.3091)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,166.6846,320.017)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,188.1923,322.268)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,209.7,307.6865)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,231.2077,324.6742)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,274.2231,306.283)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,317.2385,310.3278)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,338.7462,304.5022)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,360.2538,288.2433)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,381.7615,277.0642)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,403.2692,266.7975)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,424.7769,255.553)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,446.2846,209.4027)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,467.7923,169.1477)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,489.3,116.3855)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,510.8077,134.4536)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,532.3154,117.0597)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,553.8231,133.8624)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,575.3307,80.1665)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,596.8384,85.8474)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,618.3461,63.8317)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
          </g>
          <defs>
            <clipPath id="zr3-c0">
              <path d="M68 59l561 0l0 272l-561 0Z"
                    fill="#000"
              >
              </path>
            </clipPath>
          </defs>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Asset Classes 
    </h2>
    <div id="panel4"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M349.5 100A100 100 0 1 1 249.9663 190.3543L349.5 200Z"
                  fill="#91cc75"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 0A200 200 0 0 1 380.539 397.5768L365.0195 298.7884A100 100 0 0 0 349.5 100Z"
                  fill="rgb(172,216,151)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M380.539 397.5768A200 200 0 0 1 150.4326 180.7087L249.9663 190.3543A100 100 0 0 0 365.0195 298.7884Z"
                  fill="rgb(172,216,151)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M249.9663 190.3543A100 100 0 0 1 337.4902 100.7238L349.5 200Z"
                  fill="#fac858"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M150.4326 180.7087A200 200 0 0 1 182.8535 89.4154L266.1767 144.7077A100 100 0 0 0 249.9663 190.3543Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M182.8535 89.4154A200 200 0 0 1 226.7053 42.1347L288.1026 121.0673A100 100 0 0 0 266.1767 144.7077Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M226.7053 42.1347A200 200 0 0 1 276.9925 13.6062L313.2462 106.8031A100 100 0 0 0 288.1026 121.0673Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M276.9925 13.6062A200 200 0 0 1 325.4805 1.4476L337.4902 100.7238A100 100 0 0 0 313.2462 106.8031Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M337.4902 100.7238A100 100 0 0 1 349.5 100L349.5 200Z"
                  fill="#ee6666"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M325.4805 1.4476A200 200 0 0 1 349.5 0L349.5 100A100 100 0 0 0 337.4902 100.7238Z"
                  fill="rgb(242,140,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Investment Classes 
    </h2>
    <div id="panel5"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M349.5 100A100 100 0 1 1 251.31 181.0602L349.5 200Z"
                  fill="#91cc75"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 0A200 200 0 0 1 368.9689 399.0502L359.2344 299.5251A100 100 0 0 0 349.5 100Z"
                  fill="rgb(172,216,151)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M368.9689 399.0502A200 200 0 0 1 153.1199 162.1204L251.31 181.0602A100 100 0 0 0 359.2344 299.5251Z"
                  fill="rgb(172,216,151)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M251.31 181.0602A100 100 0 0 1 349.5 100L349.5 200Z"
                  fill="#fac858"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M153.1199 162.1204A200 200 0 0 1 195.1703 72.7901L272.3352 136.3951A100 100 0 0 0 251.31 181.0602Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M195.1703 72.7901A200 200 0 0 1 244.748 29.6268L297.124 114.8134A100 100 0 0 0 272.3352 136.3951Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M244.748 29.6268A200 200 0 0 1 298.9548 6.4924L324.2274 103.2462A100 100 0 0 0 297.124 114.8134Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M298.9548 6.4924A200 200 0 0 1 349.5 0L349.5 100A100 100 0 0 0 324.2274 103.2462Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Assets Allocation 
    </h2>
    <div id="panel6"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M349.5 133.3333A66.6667 66.6667 0 1 1 322.9176 261.1377L349.5 200Z"
                  fill="#91cc75"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 66.6667A133.3333 133.3333 0 1 1 328.3185 331.6401L338.9092 265.8201A66.6667 66.6667 0 1 0 349.5 133.3333Z"
                  fill="rgb(163,212,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 0A200 200 0 0 1 438.6892 379.012L408.9595 319.3413A133.3333 133.3333 0 0 0 349.5 66.6667Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M438.6892 379.012A200 200 0 0 1 375.5375 398.2979L366.8583 332.1986A133.3333 133.3333 0 0 0 408.9595 319.3413Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M375.5375 398.2979A200 200 0 0 1 317.7277 397.4602L328.3185 331.6401A133.3333 133.3333 0 0 0 366.8583 332.1986Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M328.3185 331.6401A133.3333 133.3333 0 0 1 296.3351 322.2754L322.9176 261.1377A66.6667 66.6667 0 0 0 338.9092 265.8201Z"
                  fill="rgb(163,212,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M317.7277 397.4602A200 200 0 0 1 269.7527 383.4131L296.3351 322.2754A133.3333 133.3333 0 0 0 328.3185 331.6401Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M322.9176 261.1377A66.6667 66.6667 0 0 1 318.1684 141.1546L349.5 200Z"
                  fill="#fac858"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M296.3351 322.2754A133.3333 133.3333 0 0 1 232.3919 136.2546L290.946 168.1273A66.6667 66.6667 0 0 0 322.9176 261.1377Z"
                  fill="rgb(250,209,115)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M232.3919 136.2546A133.3333 133.3333 0 0 1 268.4532 94.1265L308.9766 147.0633A66.6667 66.6667 0 0 0 290.946 168.1273Z"
                  fill="rgb(250,209,115)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M268.4532 94.1265A133.3333 133.3333 0 0 1 286.8368 82.3093L318.1684 141.1546A66.6667 66.6667 0 0 0 308.9766 147.0633Z"
                  fill="rgb(250,209,115)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M318.1684 141.1546A66.6667 66.6667 0 0 1 349.5 133.3333L349.5 200Z"
                  fill="#ee6666"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M286.8368 82.3093A133.3333 133.3333 0 0 1 349.5 66.6667L349.5 133.3333A66.6667 66.6667 0 0 0 318.1684 141.1546Z"
                  fill="rgb(240,127,127)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.204,-0.979,0.979,0.204,382.1349,206.7878)"
                  fill="#333"
            >
              Equity
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.08,-0.997,0.997,0.08,449.182,207.9684)"
                  fill="#333"
            >
              Market
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.229,0.973,-0.973,0.229,511.7352,161.8228)"
                  fill="#333"
            >
              US
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.04,0.999,-0.999,0.04,316.1927,201.3184)"
                  fill="#333"
            >
              Bond
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.325,0.946,-0.946,0.325,254.9311,232.5073)"
                  fill="#333"
            >
              US
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.65,-0.76,0.76,0.65,273.5311,134.9713)"
                  fill="#333"
            >
              Cash
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.97,-0.242,0.242,0.97,341.4267,167.6591)"
                  fill="#333"
            >
              Commodity
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.97,-0.242,0.242,0.97,325.2802,102.9773)"
                  fill="#333"
            >
              Gold
            </text>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Investments Allocation 
    </h2>
    <div id="panel7"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M349.5 133.3333A66.6667 66.6667 0 1 1 318.7431 259.1478L349.5 200Z"
                  fill="#91cc75"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 66.6667A133.3333 133.3333 0 1 1 319.8794 330.0015L334.6897 265.0008A66.6667 66.6667 0 1 0 349.5 133.3333Z"
                  fill="rgb(163,212,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 0A200 200 0 0 1 429.2018 383.4329L402.6345 322.2886A133.3333 133.3333 0 0 0 349.5 66.6667Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M429.2018 383.4329A200 200 0 0 1 363.8354 399.4856L359.0569 332.9904A133.3333 133.3333 0 0 0 402.6345 322.2886Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M363.8354 399.4856A200 200 0 0 1 305.0691 395.0023L319.8794 330.0015A133.3333 133.3333 0 0 0 359.0569 332.9904Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M319.8794 330.0015A133.3333 133.3333 0 0 1 287.9862 318.2955L318.7431 259.1478A66.6667 66.6667 0 0 0 334.6897 265.0008Z"
                  fill="rgb(163,212,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M305.0691 395.0023A200 200 0 0 1 257.2292 377.4433L287.9862 318.2955A133.3333 133.3333 0 0 0 319.8794 330.0015Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M318.7431 259.1478A66.6667 66.6667 0 0 1 317.6074 141.4568L349.5 200Z"
                  fill="#fac858"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M287.9862 318.2955A133.3333 133.3333 0 0 1 239.4758 124.6844L294.4879 162.3422A66.6667 66.6667 0 0 0 318.7431 259.1478Z"
                  fill="rgb(250,209,115)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M239.4757 124.6844A133.3333 133.3333 0 0 1 267.1085 95.1695L308.3043 147.5848A66.6667 66.6667 0 0 0 294.4879 162.3422Z"
                  fill="rgb(250,209,115)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M267.1085 95.1695A133.3333 133.3333 0 0 1 285.7149 82.9136L317.6074 141.4568A66.6667 66.6667 0 0 0 308.3043 147.5848Z"
                  fill="rgb(250,209,115)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M317.6074 141.4568A66.6667 66.6667 0 0 1 349.5 133.3333L349.5 200Z"
                  fill="#ee6666"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M285.7149 82.9136A133.3333 133.3333 0 0 1 349.5 66.6667L349.5 133.3333A66.6667 66.6667 0 0 0 317.6074 141.4568Z"
                  fill="rgb(240,127,127)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.237,-0.971,0.971,0.237,381.8798,207.9157)"
                  fill="#333"
            >
              Equity
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.112,-0.994,0.994,0.112,448.8733,211.1778)"
                  fill="#333"
            >
              Market
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.204,0.979,-0.979,0.204,512.6787,166.0811)"
                  fill="#333"
            >
              US
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.01,1,-1,0.01,316.1682,200.3216)"
                  fill="#333"
            >
              Bond
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.243,0.97,-0.97,0.243,252.4985,224.3043)"
                  fill="#333"
            >
              US
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.969,-0.247,0.247,0.969,341.2723,167.6981)"
                  fill="#333"
            >
              Commodity
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.969,-0.247,0.247,0.969,324.8168,103.0942)"
                  fill="#333"
            >
              Gold
            </text>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
</div>
<script type="application/json"
        id="page-title"
>
  "Dashboards"
</script>
`;

exports[`Dashboard: HTML Snapshot Tests Income and Expenses 1`] = `
<style type="text/css">
  #dashboard {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}
#dashboard .panel {
    padding: 20px;
    min-width: 300px;
}
#dashboard .panel h2 {
    text-align: center;
}

/* set panel min-width to 100% on screens
  < 802px (navbar + padding + 2*300px) */
@media (max-width: 802px) {
    #dashboard .panel {
        min-width: 100%;
    }
}
</style>
<script id="favaDashboardsBootstrap"
        type="application/json"
>
  {
  "dashboardId": 2,
  "dashboards": [
    {
      "name": "Overview",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Assets:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ?? 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Assets \\ud83d\\udcb0",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Liabilities:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ? -value : 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Liabilities \\ud83d\\udcb3",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "520px",
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Income/?time={time}",
              "name": "Income",
              "stack": "income"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Income/Expenses \\ud83d\\udcb8",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Assets",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "link": "/beancount/account/{account}/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nconst data = panel.queries[0].result\\n  .filter((row) =\\u003e row.market_value[ledger.ccy])\\n  .map((row) =\\u003e ({ name: Object.keys(row.units)[0], value: row.market_value[ledger.ccy] }));\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${\\n        ledger.commodities[params.name]?.meta.name ?? params.name\\n      } \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${params.percent.toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"pie\\",\\n      data,\\n    },\\n  ],\\n};\\n",
          "title": "Assets \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/balance_sheet/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Net Worth \\ud83d\\udcb0",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = {\\n    market_value: row.market_value[ledger.ccy],\\n    book_value: row.book_value[ledger.ccy],\\n  };\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      name: \\"Market Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.market_value),\\n    },\\n    {\\n      type: \\"line\\",\\n      name: \\"Book Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.book_value),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Portfolio \\ud83d\\udcc8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.market_value[ledger.ccy] - row.book_value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n};\\n",
          "title": "Portfolio Gains \\u2728",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Asset Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Investment Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Assets Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Investments Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        }
      ]
    },
    {
      "name": "Income and Expenses",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027",
              "result": [
                {
                  "value": {
                    "USD": -286173.12
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(-panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Income per Month \\ud83d\\udcb0",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027",
              "result": [
                {
                  "value": {
                    "USD": 204323.61
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Expenses per Month \\ud83d\\udcb8",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027",
              "result": [
                {
                  "value": {
                    "USD": -286173.12
                  }
                }
              ]
            },
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027",
              "result": [
                {
                  "value": {
                    "USD": 204323.61
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst percentFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"percent\\",\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst income = -panel.queries[0].result[0].value[ledger.ccy];\\nconst expenses = panel.queries[1].result[0].value[ledger.ccy];\\nconst rate = (income - expenses) / months;\\nconst ratePercent = 1 - expenses / income;\\nconst value = \`\${currencyFormat.format(rate)} (\${percentFormat.format(ratePercent)})\`;\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Savings per Month \\u2728",
          "type": "html",
          "width": "33.3%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 4) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}",
              "result": [
                {
                  "account": "Income:US:Hooli:Salary",
                  "value": {
                    "USD": -263076.66
                  }
                },
                {
                  "account": "Income:US:Hooli:GroupTermLife",
                  "value": {
                    "USD": -1386.24
                  }
                },
                {
                  "account": "Income:US:Hooli:Match401k",
                  "value": {
                    "USD": -20900.00
                  }
                },
                {
                  "account": "Income:US:ETrade:ITOT",
                  "value": {
                    "USD": -29.60
                  }
                },
                {
                  "account": "Income:US:ETrade:VEA",
                  "value": {
                    "USD": -29.60
                  }
                },
                {
                  "account": "Income:US:ETrade:PnL",
                  "value": {
                    "USD": -550.50
                  }
                },
                {
                  "account": "Income:US:ETrade:GLD",
                  "value": {
                    "USD": -135.55
                  }
                },
                {
                  "account": "Income:US:ETrade:VHT",
                  "value": {
                    "USD": -64.97
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e -row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Income\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Income Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 3) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}",
              "result": [
                {
                  "account": "Expenses:Health:Life",
                  "value": {
                    "USD": 1386.24
                  }
                },
                {
                  "account": "Expenses:Health:Dental",
                  "value": {
                    "USD": 165.30
                  }
                },
                {
                  "account": "Expenses:Health:Medical",
                  "value": {
                    "USD": 1560.66
                  }
                },
                {
                  "account": "Expenses:Health:Vision",
                  "value": {
                    "USD": 2411.10
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2020",
                  "value": {
                    "USD": 54306.23
                  }
                },
                {
                  "account": "Expenses:Food:Restaurant",
                  "value": {
                    "USD": 10863.58
                  }
                },
                {
                  "account": "Expenses:Financial:Fees",
                  "value": {
                    "USD": 104.00
                  }
                },
                {
                  "account": "Expenses:Housing:Rent",
                  "value": {
                    "USD": 60000.00
                  }
                },
                {
                  "account": "Expenses:Housing:Electricity",
                  "value": {
                    "USD": 1625.00
                  }
                },
                {
                  "account": "Expenses:Food:Groceries",
                  "value": {
                    "USD": 4838.44
                  }
                },
                {
                  "account": "Expenses:Housing:Phone",
                  "value": {
                    "USD": 1429.78
                  }
                },
                {
                  "account": "Expenses:Housing:Internet",
                  "value": {
                    "USD": 1999.71
                  }
                },
                {
                  "account": "Expenses:Transport:Tram",
                  "value": {
                    "USD": 2880.00
                  }
                },
                {
                  "account": "Expenses:Food:Coffee",
                  "value": {
                    "USD": 117.49
                  }
                },
                {
                  "account": "Expenses:Financial:Commissions",
                  "value": {
                    "USD": 214.80
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2021",
                  "value": {
                    "USD": 51477.20
                  }
                },
                {
                  "account": "Expenses:Food:Alcohol",
                  "value": {
                    "USD": 75.28
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2022",
                  "value": {
                    "USD": 7968.80
                  }
                },
                {
                  "account": "Expenses:Shopping:Electronics",
                  "value": {
                    "USD": 900.00
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Expenses\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Expenses Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#recurring\\u0026time={time}",
              "name": "Recurring",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 2400.00
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=-#recurring\\u0026time={time}",
              "name": "Irregular",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 6959.46
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 4894.35
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 5149.13
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 5040.59
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 5184.19
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 5260.18
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 7441.06
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 5000.61
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 5081.29
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 5152.96
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 5160.97
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 6671.01
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 5108.68
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 5243.78
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 6140.60
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 5063.60
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 5298.69
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 5227.87
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 7286.29
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 4882.71
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 5022.02
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 5011.69
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 4988.12
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 7249.87
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 5257.75
                  },
                  "year": 2022
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 5546.14
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Recurring Expenses \\ud83d\\udd01",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?time={time}",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 365.30
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 506.08
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 644.69
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 537.65
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 567.35
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 881.02
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 850.01
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 525.50
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 572.60
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 613.43
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 657.43
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 668.19
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 606.82
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 859.81
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 518.47
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 506.12
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 784.51
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 702.60
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 666.67
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 379.61
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 474.55
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 487.32
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 457.35
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 954.48
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 763.29
                  },
                  "year": 2022
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 343.94
                  },
                  "year": 2022
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: months.map((month) =\\u003e amounts[month] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Food Expenses \\ud83e\\udd50",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 2602.86
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 2606.07
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 2602.24
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 2600.74
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 2594.64
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 2596.96
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 2599.75
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 2572.91
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 2606.49
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 2610.48
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 2601.34
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 2604.11
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 2599.66
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 2601.77
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 2601.56
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 2610.53
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 2611.98
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 2623.07
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 2628.32
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 2600.90
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 2573.67
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 2586.37
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 2619.62
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 2606.19
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 2592.26
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 365.30
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 506.08
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 644.69
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 537.65
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 567.35
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 435.19
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 288.09
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 525.50
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 572.60
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 613.43
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 657.43
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 668.19
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 606.82
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 546.92
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 518.47
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 506.12
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 784.51
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 353.44
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 459.33
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 379.61
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 474.55
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 487.32
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 457.35
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 332.26
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 642.46
                  },
                  "year": 2022
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 343.94
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "result": [
                {
                  "month": 2,
                  "value": {
                    "USD": 900.00
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "result": [
                {
                  "month": 6,
                  "value": {
                    "USD": 445.83
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 561.92
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 312.89
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 349.16
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 207.34
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 622.22
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 120.83
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 6391.30
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 4182.20
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 4422.20
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 4182.20
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 6391.30
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 4329.05
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 5798.71
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 4182.20
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 5420.57
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 4346.95
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 6391.30
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 4373.80
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 4338.00
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 4311.15
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 6089.20
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2022
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = [\\n  \\"January\\",\\n  \\"February\\",\\n  \\"March\\",\\n  \\"April\\",\\n  \\"Mai\\",\\n  \\"June\\",\\n  \\"July\\",\\n  \\"August\\",\\n  \\"September\\",\\n  \\"Oktober\\",\\n  \\"November\\",\\n  \\"December\\",\\n];\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n  }\\n}\\n\\nlet series = [];\\nfor (let query of panel.queries) {\\n  for (let year of years) {\\n    series.push({\\n      type: \\"bar\\",\\n      name: query.name,\\n      stack: year,\\n      blub: 5,\\n      data: months.map((_, i) =\\u003e amounts[query.name][\`\${i + 1}/\${year}\`] ?? 0),\\n    });\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e {\\n      const month = params.dataIndex + 1;\\n      const stackIdx = params.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      return \`\${params.seriesName}\\u003cbr\\u003e\${\\n        params.marker\\n      } \${month}/\${year} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e\`;\\n    },\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const month = event.dataIndex + 1;\\n      const stackIdx = event.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.toString().padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Expenses Year-Over-Year \\ud83d\\udcb8",
          "type": "echarts"
        },
        {
          "queries": [
            {
              "bql": "SELECT date, payee, narration, position WHERE account ~ \\"^Expenses:\\" ORDER BY position DESC LIMIT 10",
              "result": [
                {
                  "date": "2020-01-04",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-02-05",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-03-03",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-04-03",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-05-05",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-06-04",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-07-06",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-08-06",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-09-04",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                },
                {
                  "date": "2020-10-05",
                  "narration": "Paying the rent",
                  "payee": "RiverBank Properties",
                  "position": {
                    "cost": null,
                    "units": {
                      "currency": "USD",
                      "number": 2400.00
                    }
                  }
                }
              ]
            }
          ],
          "template": "\\u003ctable is=\\"sortable-table\\" class=\\"queryresults\\"\\u003e\\n  \\u003cthead\\u003e\\n    \\u003ctr\\u003e\\n      \\u003cth data-sort=\\"string\\"\\u003edate\\u003c/th\\u003e\\n      \\u003cth data-sort=\\"string\\"\\u003epayee\\u003c/th\\u003e\\n      \\u003cth data-sort=\\"string\\"\\u003enarration\\u003c/th\\u003e\\n      \\u003cth data-sort=\\"num\\"\\u003eposition\\u003c/th\\u003e\\n    \\u003c/tr\\u003e\\n  \\u003c/thead\\u003e\\n  \\u003ctbody\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-01-04\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-02-05\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-03-03\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-04-03\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-05-05\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-06-04\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-07-06\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-08-06\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-09-04\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n    \\u003ctr\\u003e\\n      \\u003ctd\\u003e2020-10-05\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  RiverBank Properties\\n\\u003c/td\\u003e\\n\\n      \\u003ctd\\u003e\\n  Paying the rent\\n\\u003c/td\\u003e\\n\\n      \\u003ctd class=\\"num\\"\\u003e\\u003cspan class=\\"num\\" title=\\"US Dollar\\"\\u003e2400.00 USD\\u003c/span\\u003e\\u003c/td\\u003e\\n\\n    \\u003c/tr\\u003e\\n  \\u003c/tbody\\u003e\\n\\u003c/table\\u003e\\n",
          "title": "Top 10 biggest expenses",
          "type": "jinja2"
        }
      ]
    },
    {
      "name": "Travelling",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT year, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by year\\nfor (let row of panel.queries[0].result) {\\n  amounts[row.year] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: years,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: years.map((year) =\\u003e amounts[year] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Travel Costs per Year \\ud83d\\udcc5",
          "type": "echarts"
        },
        {
          "height": "300px",
          "queries": [
            {
              "bql": "SELECT tags, CONVERT(position, \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nORDER BY date, tags\\n",
              "link": "/beancount/account/Expenses/?filter=#{travel}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst travels = [];\\nconst amounts = {};\\n\\nfor (let row of panel.queries[0].result) {\\n  const tag = row.tags.find((tag) =\\u003e tag.match(/\\\\-\\\\d{4}/));\\n  if (!(tag in amounts)) {\\n    travels.unshift(tag);\\n    amounts[tag] = 0;\\n  }\\n  amounts[tag] += row.value.number;\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  grid: {\\n    left: \\"150px\\",\\n  },\\n  xAxis: {\\n    type: \\"value\\",\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  yAxis: {\\n    type: \\"category\\",\\n    data: travels,\\n  },\\n  series: [\\n    {\\n      type: \\"bar\\",\\n      data: travels.map((travel) =\\u003e amounts[travel]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{travel}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Destinations \\u2708\\ufe0f",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Sankey",
      "panels": [
        {
          "height": "800px",
          "queries": [
            {
              "bql": "SELECT account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^(Income|Expenses):\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12); // monthly\\nconst valueThreshold = 10; // skip nodes below this value\\n\\nconst nodes = [{ name: \\"Income\\" }];\\nconst links = [];\\nfunction addNode(root) {\\n  for (let node of root.children) {\\n    let label = node.name.split(\\":\\").pop();\\n\\n    // skip over pass-through accounts\\n    while (node.children.length === 1) {\\n      node = node.children[0];\\n      label += \\":\\" + node.name.split(\\":\\").pop();\\n    }\\n\\n    // skip nodes below the threshold\\n    if (Math.abs(node.value / divisor) \\u003c valueThreshold) continue;\\n\\n    nodes.push({ name: node.name, label });\\n    if (node.name.startsWith(\\"Income\\")) {\\n      links.push({ source: node.name, target: root.name, value: -node.value / divisor });\\n    } else {\\n      links.push({\\n        source: root.name == \\"Expenses\\" ? \\"Income\\" : root.name,\\n        target: node.name,\\n        value: node.value / divisor,\\n      });\\n    }\\n    addNode(node);\\n  }\\n}\\n\\nconst accountTree = helpers.buildAccountTree(panel.queries[0].result, (row) =\\u003e row.value[ledger.ccy]);\\naddNode(accountTree.children[0]);\\naddNode(accountTree.children[1]);\\n\\nconst savings =\\n  accountTree.children[0].name === \\"Income\\"\\n    ? -accountTree.children[0].value - accountTree.children[1].value\\n    : -accountTree.children[1].value - accountTree.children[0].value;\\nif (savings \\u003e 0) {\\n  nodes.push({ name: \\"Savings\\" });\\n  links.push({ source: \\"Income\\", target: \\"Savings\\", value: savings / divisor });\\n}\\n\\nreturn {\\n  align: \\"left\\",\\n  valueFormatter: currencyFormat.format,\\n  data: {\\n    nodes,\\n    links,\\n  },\\n  onClick: (event, node) =\\u003e {\\n    if (node.name === \\"Savings\\") return;\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", node.name).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Sankey (per month) \\ud83d\\udcb8",
          "type": "d3_sankey"
        }
      ]
    }
  ],
  "ledger": {
    "ccy": "USD",
    "commodities": {
      "GLD": {
        "currency": "GLD",
        "date": "2004-11-01",
        "meta": {
          "asset_allocation_Commodity_Gold": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:GLD",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 52,
          "name": "SPDR Gold Trust (ETF)",
          "price": "USD:google/NYSEARCA:GLD"
        }
      },
      "ITOT": {
        "currency": "ITOT",
        "date": "2004-01-20",
        "meta": {
          "asset_allocation_Equity_Market_NonUS": 1,
          "asset_allocation_Equity_Market_US": 99,
          "asset_class": "ETF",
          "export": "NYSEARCA:ITOT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 37,
          "name": "iShares Core S\\u0026P Total U.S. Stock Market ETF",
          "price": "USD:google/NYSEARCA:ITOT"
        }
      },
      "RGAGX": {
        "currency": "RGAGX",
        "date": "2009-05-01",
        "meta": {
          "asset_allocation_Bond_Cash": 10,
          "asset_allocation_Equity_Market_NonUS": 11,
          "asset_allocation_Equity_Market_US": 79,
          "asset_class": "Fund",
          "export": "MUTF:RGAGX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 66,
          "name": "American Funds The Growth Fund of America Class R-6",
          "price": "USD:google/MUTF:RGAGX"
        }
      },
      "USD": {
        "currency": "USD",
        "date": "1792-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 100,
          "asset_class": "Cash",
          "export": "CASH",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 16,
          "name": "US Dollar"
        }
      },
      "VBMPX": {
        "currency": "VBMPX",
        "date": "1995-09-18",
        "meta": {
          "asset_allocation_Bond_NonUS": 9,
          "asset_allocation_Bond_US": 91,
          "asset_class": "Fund",
          "export": "MUTF:VBMPX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 29,
          "name": "Vanguard Total Bond Market Index Fund Institutional Plus Shares",
          "price": "USD:google/MUTF:VBMPX"
        }
      },
      "VEA": {
        "currency": "VEA",
        "date": "2007-07-20",
        "meta": {
          "asset_allocation_Equity_Market_DevelopedWorld": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VEA",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 59,
          "name": "Vanguard FTSE Developed Markets ETF",
          "price": "USD:google/NYSEARCA:VEA"
        }
      },
      "VHT": {
        "currency": "VHT",
        "date": "2004-01-26",
        "meta": {
          "asset_allocation_Equity_Sector_Health": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VHT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 45,
          "name": "Vanguard Health Care ETF",
          "price": "USD:google/NYSEARCA:VHT"
        }
      },
      "VMMXX": {
        "currency": "VMMXX",
        "date": "1900-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 82,
          "asset_allocation_Bond_US": 18,
          "asset_class": "Fund",
          "export": "MUTF:VMMXX (MONEY:USD)",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 22,
          "name": "Vanguard Cash Reserves Federal Money Market Fund"
        }
      }
    },
    "dateFirst": "2020-01-01",
    "dateLast": "2022-02-28",
    "operatingCurrencies": [
      "USD"
    ]
  }
}
</script>
<div class="headerline">
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=0">
      Overview
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=1">
      Assets
    </a>
  </h3>
  <h3>
    Income and Expenses
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=3">
      Travelling
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=4">
      Sankey
    </a>
  </h3>
</div>
<div id="dashboard">
  <div class="panel"
       style="width: 33.3%"
  >
    <h2>
      Avg. Income per Month 
    </h2>
    <div id="panel0"
         style="height: 80px"
    >
      <div style="font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;">
        $11,018
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 33.3%"
  >
    <h2>
      Avg. Expenses per Month 
    </h2>
    <div id="panel1"
         style="height: 80px"
    >
      <div style="font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;">
        $7,867
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 33.3%"
  >
    <h2>
      Avg. Savings per Month 
    </h2>
    <div id="panel2"
         style="height: 80px"
    >
      <div style="font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;">
        $3,151 (29%)
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Income Categories (per month) 
    </h2>
    <div id="panel3"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M349.5 133.3333A66.6667 66.6667 0 1 1 349.4933 133.3333Z"
                  fill="#91cc75"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 66.6667A133.3333 133.3333 0 1 1 347.1282 66.6878L348.3141 133.3439A66.6667 66.6667 0 1 0 349.5 133.3333Z"
                  fill="rgb(163,212,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 0A200 200 0 1 1 252.3706 25.169L284.747 83.446A133.3333 133.3333 0 1 0 349.5 66.6667Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M252.3706 25.169A200 200 0 0 1 339.8587 0.2325L343.0725 66.8217A133.3333 133.3333 0 0 0 284.747 83.446Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M339.8587 0.2325A200 200 0 0 1 345.9424 0.0316L347.1282 66.6878A133.3333 133.3333 0 0 0 343.0725 66.8217Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M347.1282 66.6878A133.3333 133.3333 0 0 1 349.5 66.6667L349.5 133.3333A66.6667 66.6667 0 0 0 348.3141 133.3439Z"
                  fill="rgb(163,212,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M345.9424 0.0316A200 200 0 0 1 348.3595 0.0033L348.7397 66.6688A133.3333 133.3333 0 0 0 347.1282 66.6878Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M348.3595 0.0033A200 200 0 0 1 348.9547 0.0007L349.1365 66.6672A133.3333 133.3333 0 0 0 348.7397 66.6688Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M348.9547 0.0007A200 200 0 0 1 349.24 0.0002L349.3267 66.6668A133.3333 133.3333 0 0 0 349.1365 66.6672Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.24 0.0002A200 200 0 0 1 349.37 0L349.4133 66.6667A133.3333 133.3333 0 0 0 349.3267 66.6668Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.37 0A200 200 0 0 1 349.5 0L349.5 66.6667A133.3333 133.3333 0 0 0 349.4133 66.6667Z"
                  fill="rgb(181,221,163)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0,1,-1,0,349.5,200)"
                  fill="#333"
            >
              US
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.009,1,-1,0.009,350.3894,299.996)"
                  fill="#333"
            >
              Hooli
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.251,0.968,-0.968,0.251,391.3073,361.3379)"
                  fill="#333"
            >
              Salary
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.274,0.962,-0.962,0.274,303.815,39.7169)"
                  fill="#333"
            >
              Match401k
            </text>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Expenses Categories (per month) 
    </h2>
    <div id="panel4"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M349.5 100A100 100 0 1 1 314.608 293.7152L349.5 200Z"
                  fill="#91cc75"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M349.5 0A200 200 0 0 1 548.5171 219.804L449.0085 209.902A100 100 0 0 0 349.5 100Z"
                  fill="rgb(172,216,151)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M548.5171 219.804A200 200 0 0 1 327.2722 398.761L338.3861 299.3805A100 100 0 0 0 449.0085 209.902Z"
                  fill="rgb(172,216,151)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M327.2722 398.761A200 200 0 0 1 279.7159 387.4305L314.608 293.7152A100 100 0 0 0 338.3861 299.3805Z"
                  fill="rgb(172,216,151)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M314.608 293.7152A100 100 0 0 1 278.8406 129.2381L349.5 200Z"
                  fill="#fac858"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M279.7159 387.4305A200 200 0 0 1 187.976 82.0594L268.738 141.0297A100 100 0 0 0 314.608 293.7152Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M187.976 82.0594A200 200 0 0 1 195.5293 72.3559L272.5146 136.1779A100 100 0 0 0 268.738 141.0297Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M195.5293 72.3559A200 200 0 0 1 202.0973 64.8244L275.7986 132.4122A100 100 0 0 0 272.5146 136.1779Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M202.0973 64.8244A200 200 0 0 1 208.1811 58.4762L278.8406 129.2381A100 100 0 0 0 275.7986 132.4122Z"
                  fill="rgb(251,213,129)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M278.8406 129.2381A100 100 0 0 1 320.3408 104.3457L349.5 200Z"
                  fill="#ee6666"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M208.1811 58.4762A200 200 0 0 1 262.3978 19.9633L305.9489 109.9817A100 100 0 0 0 278.8406 129.2381Z"
                  fill="rgb(242,140,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M262.3978 19.9633A200 200 0 0 1 290.0486 9.0405L319.7743 104.5202A100 100 0 0 0 305.9489 109.9817Z"
                  fill="rgb(242,140,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M290.0486 9.0405A200 200 0 0 1 290.7389 8.827L320.1195 104.4135A100 100 0 0 0 319.7743 104.5202Z"
                  fill="rgb(242,140,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M290.7389 8.827A200 200 0 0 1 291.1816 8.6914L320.3408 104.3457A100 100 0 0 0 320.1195 104.4135Z"
                  fill="rgb(242,140,140)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M320.3408 104.3457A100 100 0 0 1 336.9291 100.7933L349.5 200Z"
                  fill="#73c0de"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M291.1816 8.6914A200 200 0 0 1 305.5133 4.897L327.5066 102.4485A100 100 0 0 0 320.3408 104.3457Z"
                  fill="rgb(150,207,230)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M305.5133 4.897A200 200 0 0 1 314.9237 3.0115L332.2119 101.5057A100 100 0 0 0 327.5066 102.4485Z"
                  fill="rgb(150,207,230)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M314.9237 3.0115A200 200 0 0 1 323.3499 1.7169L336.4249 100.8585A100 100 0 0 0 332.2119 101.5057Z"
                  fill="rgb(150,207,230)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M323.3499 1.7169A200 200 0 0 1 324.3581 1.5866L336.9291 100.7933A100 100 0 0 0 336.4249 100.8585Z"
                  fill="rgb(150,207,230)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M336.9291 100.7933A100 100 0 0 1 345.7529 100.0702L349.5 200Z"
                  fill="#3ba272"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M324.3581 1.5866A200 200 0 0 1 342.0059 0.1405L345.7529 100.0702A100 100 0 0 0 336.9291 100.7933Z"
                  fill="rgb(108,185,149)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M345.7529 100.0702A100 100 0 0 1 348.5197 100.0048L349.5 200Z"
                  fill="#fc8452"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M342.0059 0.1405A200 200 0 0 1 347.5393 0.0096L348.5197 100.0048A100 100 0 0 0 345.7529 100.0702Z"
                  fill="rgb(252,162,125)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M348.5197 100.0048A100 100 0 0 1 349.5 100L349.5 200Z"
                  fill="#9a60b4"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M347.5393 0.0096A200 200 0 0 1 348.8604 0.001L349.1802 100.0005A100 100 0 0 0 348.5197 100.0048Z"
                  fill="rgb(179,135,198)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <path d="M348.8604 0.001A200 200 0 0 1 349.5 0L349.5 100A100 100 0 0 0 349.1802 100.0005Z"
                  fill="rgb(179,135,198)"
                  stroke="white"
                  stroke-linejoin="bevel"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.984,0.177,-0.177,0.984,398.7081,208.8634)"
                  fill="#333"
            >
              Taxes
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.741,-0.671,0.671,0.741,460.6934,99.3222)"
                  fill="#333"
            >
              Y2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.629,0.777,-0.777,0.629,443.8332,316.6244)"
                  fill="#333"
            >
              Y2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.977,-0.212,0.212,0.977,300.6419,210.6247)"
                  fill="#333"
            >
              Housing
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.958,-0.288,0.288,0.958,205.8427,243.1577)"
                  fill="#333"
            >
              Rent
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="matrix(0.514,0.858,-0.858,0.514,323.7811,157.1218)"
                  fill="#333"
            >
              Food
            </text>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Recurring Expenses 
    </h2>
    <div id="panel5"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 276.5L629.1 276.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 222.5L629.1 222.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 168.5L629.1 168.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 114.5L629.1 114.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 60.5L629.1 60.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M70.5 330L70.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M134.5 330L134.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M199.5 330L199.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M263.5 330L263.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M328.5 330L328.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M392.5 330L392.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M457.5 330L457.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M521.5 330L521.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M586.5 330L586.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M629.5 330L629.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 330)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 276)"
                  fill="#6E7079"
            >
              $2,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 222)"
                  fill="#6E7079"
            >
              $4,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 168)"
                  fill="#6E7079"
            >
              $6,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 114)"
                  fill="#6E7079"
            >
              $8,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 60)"
                  fill="#6E7079"
            >
              $10,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(80.6538 338)"
                  fill="#6E7079"
            >
              1/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(145.1769 338)"
                  fill="#6E7079"
            >
              4/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(209.7 338)"
                  fill="#6E7079"
            >
              7/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(274.2231 338)"
                  fill="#6E7079"
            >
              10/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(338.7462 338)"
                  fill="#6E7079"
            >
              1/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(403.2692 338)"
                  fill="#6E7079"
            >
              4/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(467.7923 338)"
                  fill="#6E7079"
            >
              7/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(532.3154 338)"
                  fill="#6E7079"
            >
              10/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(596.8385 338)"
                  fill="#6E7079"
            >
              1/2022
            </text>
            <path d="M73.2337 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M94.7414 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M116.2491 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M137.7568 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M159.2645 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M180.7722 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M202.2798 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M223.7875 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M245.2952 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M266.8029 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M288.3106 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M309.8183 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M331.326 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M352.8337 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M374.3414 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M395.8491 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M417.3568 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M438.8645 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M460.3722 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M481.8798 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M503.3875 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M524.8952 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M546.4029 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M567.9106 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M589.4183 330l14.8403 0l0 -64.8l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M610.926 330l14.8403 0l0 0l-14.8403 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M73.2337 265.2l14.8403 0l0 -187.9054l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M94.7414 265.2l14.8403 0l0 -132.1474l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M116.2491 265.2l14.8403 0l0 -139.0265l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M137.7568 265.2l14.8403 0l0 -136.0959l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M159.2645 265.2l14.8403 0l0 -139.9731l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M180.7722 265.2l14.8403 0l0 -142.0249l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M202.2798 265.2l14.8403 0l0 -200.9086l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M223.7875 265.2l14.8403 0l0 -135.0165l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M245.2952 265.2l14.8403 0l0 -137.1948l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M266.8029 265.2l14.8403 0l0 -139.1299l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M288.3106 265.2l14.8403 0l0 -139.3462l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M309.8183 265.2l14.8403 0l0 -180.1173l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M331.326 265.2l14.8403 0l0 -137.9344l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M352.8337 265.2l14.8403 0l0 -141.5821l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M374.3414 265.2l14.8403 0l0 -165.7962l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M395.8491 265.2l14.8403 0l0 -136.7172l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M417.3568 265.2l14.8403 0l0 -143.0646l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M438.8645 265.2l14.8403 0l0 -141.1525l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M460.3722 265.2l14.8403 0l0 -196.7298l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M481.8798 265.2l14.8403 0l0 -131.8332l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M503.3875 265.2l14.8403 0l0 -135.5945l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M524.8952 265.2l14.8403 0l0 -135.3156l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M546.4029 265.2l14.8403 0l0 -134.6792l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M567.9106 265.2l14.8403 0l0 -195.7465l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M589.4183 265.2l14.8403 0l0 -141.9592l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M610.926 330l14.8403 0l0 -149.7458l-14.8403 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M-5 -5l176.7031 0l0 24l-176.7031 0Z"
                  transform="translate(266.1484 381)"
                  fill="rgb(0,0,0)"
                  fill-opacity="0"
                  stroke="#ccc"
                  stroke-width="0"
            >
            </path>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(266.1484 381)"
                  fill="#5470c6"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(266.1484 381)"
                  fill="#333"
            >
              Recurring
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(358.168 381)"
                  fill="#91cc75"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(358.168 381)"
                  fill="#333"
            >
              Irregular
            </text>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Food Expenses 
    </h2>
    <div id="panel6"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 699px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="699"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="699"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 276.5L629.1 276.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 222.5L629.1 222.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 168.5L629.1 168.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 114.5L629.1 114.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 60.5L629.1 60.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M69.9 330.5L629.1 330.5"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M70.5 330L70.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M134.5 330L134.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M199.5 330L199.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M263.5 330L263.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M328.5 330L328.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M392.5 330L392.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M457.5 330L457.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M521.5 330L521.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M586.5 330L586.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M629.5 330L629.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 330)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 276)"
                  fill="#6E7079"
            >
              $200
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 222)"
                  fill="#6E7079"
            >
              $400
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 168)"
                  fill="#6E7079"
            >
              $600
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 114)"
                  fill="#6E7079"
            >
              $800
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(61.9 60)"
                  fill="#6E7079"
            >
              $1,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(80.6538 338)"
                  fill="#6E7079"
            >
              1/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(145.1769 338)"
                  fill="#6E7079"
            >
              4/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(209.7 338)"
                  fill="#6E7079"
            >
              7/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(274.2231 338)"
                  fill="#6E7079"
            >
              10/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(338.7462 338)"
                  fill="#6E7079"
            >
              1/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(403.2692 338)"
                  fill="#6E7079"
            >
              4/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(467.7923 338)"
                  fill="#6E7079"
            >
              7/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(532.3154 338)"
                  fill="#6E7079"
            >
              10/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(596.8385 338)"
                  fill="#6E7079"
            >
              1/2022
            </text>
            <g clip-path="url(#zr3-c0)">
              <path d="M80.6538 231.369C80.6538 231.369 91.3447 212.3278 102.1615 193.3584C112.8524 174.6101 111.9459 155.9337 123.6692 155.9337C133.4536 155.9337 132.0397 184.8345 145.1769 184.8345C153.5474 184.8345 162.2101 184.8345 166.6846 176.8155C183.7178 146.2895 171.1785 92.1246 188.1923 92.1246C192.6862 92.1246 205.3187 92.1246 209.7 100.4973C226.8264 133.226 214.3647 188.115 231.2077 188.115C235.8724 188.115 241.7826 181.432 252.7154 175.398C263.2903 169.5614 263.558 170.0527 274.2231 164.3739C285.0657 158.6006 284.3105 155.783 295.7308 152.4939C305.8182 149.5887 307.6837 149.5887 317.2385 149.5887C329.1914 149.5887 332.8336 166.1586 338.7462 166.1586C354.3413 166.1586 350.9893 97.8513 360.2538 97.8513C372.497 97.8513 364.2753 175.5139 381.7615 190.0131C385.783 193.3476 398.5856 193.3476 403.2692 193.3476C420.0933 193.3476 409.3546 118.1823 424.7769 118.1823C430.8623 118.1823 434.0977 131.2838 446.2846 140.298C455.6054 147.1922 462.9143 140.298 467.7923 149.9991C484.4219 183.0709 474.111 227.5053 489.3 227.5053C495.6187 227.5053 497.7803 207.1681 510.8077 201.8715C519.288 198.4236 521.8492 198.4236 532.3154 198.4236C543.3568 198.4236 550.713 206.5155 553.8231 206.5155C572.2207 206.5155 560.092 72.2904 575.3307 72.2904C581.5997 72.2904 589.8118 96.9838 596.8384 123.9117C611.3195 179.4067 618.3461 237.1362 618.3461 237.1362"
                    fill="none"
                    stroke="#5470c6"
                    stroke-width="2"
                    stroke-linejoin="bevel"
              >
              </path>
            </g>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,80.6538,231.369)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,102.1615,193.3584)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,123.6692,155.9337)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,145.1769,184.8345)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,166.6846,176.8155)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,188.1923,92.1246)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,209.7,100.4973)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,231.2077,188.115)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,252.7154,175.398)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,274.2231,164.3739)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,295.7308,152.4939)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,317.2385,149.5887)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,338.7462,166.1586)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,360.2538,97.8513)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,381.7615,190.0131)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,403.2692,193.3476)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,424.7769,118.1823)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,446.2846,140.298)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,467.7923,149.9991)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,489.3,227.5053)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,510.8077,201.8715)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,532.3154,198.4236)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,553.8231,206.5155)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,575.3307,72.2904)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,596.8384,123.9117)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,618.3461,237.1362)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
          </g>
          <defs>
            <clipPath id="zr3-c0">
              <path d="M68 59l561 0l0 272l-561 0Z"
                    fill="#000"
              >
              </path>
            </clipPath>
          </defs>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 100%"
  >
    <h2>
      Expenses Year-Over-Year 
    </h2>
    <div id="panel7"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 1438px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="1438"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="1438"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M143.8 330.5L1294.2 330.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 276.5L1294.2 276.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 222.5L1294.2 222.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 168.5L1294.2 168.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 114.5L1294.2 114.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 60.5L1294.2 60.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 330.5L1294.2 330.5"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M144.5 330L144.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M239.5 330L239.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M335.5 330L335.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M431.5 330L431.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M527.5 330L527.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M623.5 330L623.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M719.5 330L719.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M815.5 330L815.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M910.5 330L910.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1006.5 330L1006.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1102.5 330L1102.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1198.5 330L1198.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1294.5 330L1294.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 330)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 276)"
                  fill="#6E7079"
            >
              $2,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 222)"
                  fill="#6E7079"
            >
              $4,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 168)"
                  fill="#6E7079"
            >
              $6,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 114)"
                  fill="#6E7079"
            >
              $8,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 60)"
                  fill="#6E7079"
            >
              $10,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(191.7333 338)"
                  fill="#6E7079"
            >
              January
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(287.6 338)"
                  fill="#6E7079"
            >
              February
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(383.4667 338)"
                  fill="#6E7079"
            >
              March
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(479.3333 338)"
                  fill="#6E7079"
            >
              April
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(575.2 338)"
                  fill="#6E7079"
            >
              Mai
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(671.0667 338)"
                  fill="#6E7079"
            >
              June
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(766.9333 338)"
                  fill="#6E7079"
            >
              July
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(862.8 338)"
                  fill="#6E7079"
            >
              August
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(958.6667 338)"
                  fill="#6E7079"
            >
              September
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1054.5333 338)"
                  fill="#6E7079"
            >
              Oktober
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1150.4 338)"
                  fill="#6E7079"
            >
              November
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1246.2667 338)"
                  fill="#6E7079"
            >
              December
            </text>
            <path d="M154.8247 330l21.711 0l0 -70.2772l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M250.6913 330l21.711 0l0 -70.3639l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M346.558 330l21.711 0l0 -70.2605l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M442.4247 330l21.711 0l0 -70.22l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M538.2913 330l21.711 0l0 -70.0553l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M634.158 330l21.711 0l0 -70.1179l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M730.0247 330l21.711 0l0 -70.1933l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M825.8913 330l21.711 0l0 -69.4686l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M921.758 330l21.711 0l0 -70.3752l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1017.6247 330l21.711 0l0 -70.483l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1113.4913 330l21.711 0l0 -70.2362l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1209.358 330l21.711 0l0 -70.311l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M180.8778 330l21.711 0l0 -70.1908l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M276.7445 330l21.711 0l0 -70.2478l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M372.6112 330l21.711 0l0 -70.2421l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M468.4778 330l21.711 0l0 -70.4843l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M564.3445 330l21.711 0l0 -70.5235l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M660.2112 330l21.711 0l0 -70.8229l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M756.0778 330l21.711 0l0 -70.9646l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M851.9445 330l21.711 0l0 -70.2243l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M947.8112 330l21.711 0l0 -69.4891l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1043.6778 330l21.711 0l0 -69.832l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1139.5445 330l21.711 0l0 -70.7297l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1235.4112 330l21.711 0l0 -70.3671l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M206.931 330l21.711 0l0 -69.991l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M302.7977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M398.6644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M494.531 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M590.3977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M686.2644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M782.131 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M877.9977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M973.8644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1069.731 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1165.5977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1261.4644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M154.8247 259.7228l21.711 0l0 -9.8631l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M250.6913 259.6361l21.711 0l0 -13.6642l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M346.558 259.7395l21.711 0l0 -17.4066l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M442.4247 259.78l21.711 0l0 -14.5166l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M538.2913 259.9447l21.711 0l0 -15.3184l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M634.158 259.8821l21.711 0l0 -11.7501l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M730.0247 259.8067l21.711 0l0 -7.7784l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M825.8913 260.5314l21.711 0l0 -14.1885l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M921.758 259.6248l21.711 0l0 -15.4602l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1017.6247 259.517l21.711 0l0 -16.5626l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1113.4913 259.7638l21.711 0l0 -17.7506l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1209.358 259.689l21.711 0l0 -18.0411l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M180.8778 259.8092l21.711 0l0 -16.3841l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M276.7445 259.7522l21.711 0l0 -14.7668l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M372.6112 259.7579l21.711 0l0 -13.9987l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M468.4778 259.5157l21.711 0l0 -13.6652l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M564.3445 259.4765l21.711 0l0 -21.1818l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M660.2112 259.1771l21.711 0l0 -9.5429l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M756.0778 259.0354l21.711 0l0 -12.4019l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M851.9445 259.7757l21.711 0l0 -10.2495l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M947.8112 260.5109l21.711 0l0 -12.8129l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1043.6778 260.168l21.711 0l0 -13.1576l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1139.5445 259.2703l21.711 0l0 -12.3485l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1235.4112 259.6329l21.711 0l0 -8.971l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M206.931 260.009l21.711 0l0 -17.3464l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M302.7977 330l21.711 0l0 -9.2864l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M398.6644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M494.531 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M590.3977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M686.2644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M782.131 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M877.9977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M973.8644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1069.731 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1165.5977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1261.4644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M154.8247 249.8597l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M250.6913 245.972l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M346.558 242.3329l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M442.4247 245.2635l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M538.2913 244.6263l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M634.158 248.132l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M730.0247 252.0283l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M825.8913 246.3429l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M921.758 244.1646l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1017.6247 242.9544l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1113.4913 242.0132l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1209.358 241.6479l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M180.8778 243.425l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M276.7445 244.9854l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M372.6112 245.7592l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M468.4778 245.8505l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M564.3445 238.2948l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M660.2112 249.6342l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M756.0778 246.6335l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M851.9445 249.5262l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M947.8112 247.6981l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1043.6778 247.0104l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1139.5445 246.9218l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1235.4112 250.6619l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M206.931 242.6626l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M302.7977 320.7136l21.711 0l0 -24.3l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M398.6644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M494.531 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M590.3977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M686.2644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M782.131 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M877.9977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M973.8644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1069.731 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1165.5977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1261.4644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M154.8247 249.8597l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M250.6913 245.972l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M346.558 242.3329l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M442.4247 245.2635l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M538.2913 244.6263l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M634.158 248.132l21.711 0l0 -12.0374l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M730.0247 252.0283l21.711 0l0 -15.1718l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M825.8913 246.3429l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M921.758 244.1646l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1017.6247 242.9544l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1113.4913 242.0132l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1209.358 241.6479l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M180.8778 243.425l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M276.7445 244.9854l21.711 0l0 -8.448l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M372.6112 245.7592l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M468.4778 245.8505l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M564.3445 238.2948l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M660.2112 249.6342l21.711 0l0 -9.4273l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M756.0778 246.6335l21.711 0l0 -5.5982l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M851.9445 249.5262l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M947.8112 247.6981l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1043.6778 247.0104l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1139.5445 246.9218l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1235.4112 250.6619l21.711 0l0 -16.7999l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M206.931 242.6626l21.711 0l0 -3.2624l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M302.7977 296.4136l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M398.6644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M494.531 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M590.3977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M686.2644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M782.131 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M877.9977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M973.8644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1069.731 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1165.5977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1261.4644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M154.8247 249.8597l21.711 0l0 -172.5651l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M250.6913 245.972l21.711 0l0 -112.9194l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M346.558 242.3329l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M442.4247 245.2635l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M538.2913 244.6263l21.711 0l0 -119.3994l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M634.158 236.0945l21.711 0l0 -112.9194l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M730.0247 236.8565l21.711 0l0 -172.5651l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M825.8913 246.3429l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M921.758 244.1646l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1017.6247 242.9544l21.711 0l0 -116.8843l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1113.4913 242.0132l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1209.358 241.6479l21.711 0l0 -156.5652l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M180.8778 243.425l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M276.7445 236.5373l21.711 0l0 -112.9194l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M372.6112 245.7592l21.711 0l0 -146.3554l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M468.4778 245.8504l21.711 0l0 -117.3676l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M564.3445 238.2948l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M660.2112 240.2069l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M756.0778 241.0353l21.711 0l0 -172.5651l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M851.9445 249.5262l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M947.8112 247.6981l21.711 0l0 -118.0926l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1043.6778 247.0104l21.711 0l0 -117.126l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1139.5445 246.9218l21.711 0l0 -116.401l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1235.4112 233.8619l21.711 0l0 -164.4084l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M206.931 239.4002l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M302.7977 296.4136l21.711 0l0 -116.1594l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M398.6644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M494.531 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M590.3977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M686.2644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M782.131 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M877.9977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M973.8644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1069.731 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1165.5977 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1261.4644 330l21.711 0l0 0l-21.711 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M-5 -5l385.0039 0l0 24l-385.0039 0Z"
                  transform="translate(531.498 381)"
                  fill="rgb(0,0,0)"
                  fill-opacity="0"
                  stroke="#ccc"
                  stroke-width="0"
            >
            </path>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(531.498 381)"
                  fill="#5470c6"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(531.498 381)"
                  fill="#333"
            >
              Housing
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(615.5254 381)"
                  fill="#91cc75"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(615.5254 381)"
                  fill="#333"
            >
              Food
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(682.877 381)"
                  fill="#fac858"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(682.877 381)"
                  fill="#333"
            >
              Shopping
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(773.5898 381)"
                  fill="#ee6666"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(773.5898 381)"
                  fill="#333"
            >
              Travel
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(846.4902 381)"
                  fill="#73c0de"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(846.4902 381)"
                  fill="#333"
            >
              Other
            </text>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 100%"
  >
    <h2>
      Top 10 biggest expenses
    </h2>
    <div id="panel8"
         style="height: 400px"
    >
      <table is="sortable-table"
             class="queryresults"
      >
        <thead>
          <tr>
            <th data-sort="string">
              date
            </th>
            <th data-sort="string">
              payee
            </th>
            <th data-sort="string">
              narration
            </th>
            <th data-sort="num">
              position
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              2020-01-04
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-02-05
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-03-03
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-04-03
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-05-05
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-06-04
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-07-06
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-08-06
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-09-04
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
          <tr>
            <td>
              2020-10-05
            </td>
            <td>
              RiverBank Properties
            </td>
            <td>
              Paying the rent
            </td>
            <td class="num">
              <span class="num"
                    title="US Dollar"
              >
                2400.00 USD
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<script type="application/json"
        id="page-title"
>
  "Dashboards"
</script>
`;

exports[`Dashboard: HTML Snapshot Tests Overview 1`] = `
<style type="text/css">
  #dashboard {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}
#dashboard .panel {
    padding: 20px;
    min-width: 300px;
}
#dashboard .panel h2 {
    text-align: center;
}

/* set panel min-width to 100% on screens
  < 802px (navbar + padding + 2*300px) */
@media (max-width: 802px) {
    #dashboard .panel {
        min-width: 100%;
    }
}
</style>
<script id="favaDashboardsBootstrap"
        type="application/json"
>
  {
  "dashboardId": 0,
  "dashboards": [
    {
      "name": "Overview",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Assets:\\u0027",
              "result": [
                {
                  "value": {
                    "USD": 100098.40103
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ?? 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Assets \\ud83d\\udcb0",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Liabilities:\\u0027",
              "result": [
                {
                  "value": {
                    "USD": -3555.44
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ? -value : 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Liabilities \\ud83d\\udcb3",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "520px",
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Income/?time={time}",
              "name": "Income",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": -15719.10
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": -15369.10
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": -9279.40
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": -9279.40
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": -9279.40
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": -9279.40
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": -13948.70
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": -10509.00
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": -10660.90
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": -10524.77
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": -15719.10
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": -9529.40
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": -9599.77
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": -9279.40
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": -9393.00
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": -14009.28
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2022
                },
                {
                  "month": 2,
                  "value": {
                    "USD": -10479.40
                  },
                  "year": 2022
                }
              ],
              "stack": "income"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 2602.86
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 2606.07
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 2602.24
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 2600.74
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 2594.64
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 2596.96
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 2599.75
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 2572.91
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 2606.49
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 2610.48
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 2601.34
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 2604.11
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 2599.66
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 2601.77
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 2601.56
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 2610.53
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 2611.98
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 2623.07
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 2628.32
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 2600.90
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 2573.67
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 2586.37
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 2619.62
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 2606.19
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 2592.26
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 365.30
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 506.08
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 644.69
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 537.65
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 567.35
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 435.19
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 288.09
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 525.50
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 572.60
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 613.43
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 657.43
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 668.19
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 606.82
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 546.92
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 518.47
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 506.12
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 784.51
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 353.44
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 459.33
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 379.61
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 474.55
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 487.32
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 457.35
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 332.26
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 642.46
                  },
                  "year": 2022
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 343.94
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "result": [
                {
                  "month": 2,
                  "value": {
                    "USD": 900.00
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "result": [
                {
                  "month": 6,
                  "value": {
                    "USD": 445.83
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 561.92
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 312.89
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 349.16
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 207.34
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 622.22
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 120.83
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "result": [
                {
                  "month": 1,
                  "value": {
                    "USD": 6391.30
                  },
                  "year": 2020
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 4182.20
                  },
                  "year": 2020
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 4422.20
                  },
                  "year": 2020
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 4182.20
                  },
                  "year": 2020
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 6391.30
                  },
                  "year": 2020
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 4329.05
                  },
                  "year": 2020
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2020
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 5798.71
                  },
                  "year": 2020
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2021
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 4182.20
                  },
                  "year": 2021
                },
                {
                  "month": 3,
                  "value": {
                    "USD": 5420.57
                  },
                  "year": 2021
                },
                {
                  "month": 4,
                  "value": {
                    "USD": 4346.95
                  },
                  "year": 2021
                },
                {
                  "month": 5,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2021
                },
                {
                  "month": 6,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2021
                },
                {
                  "month": 7,
                  "value": {
                    "USD": 6391.30
                  },
                  "year": 2021
                },
                {
                  "month": 8,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2021
                },
                {
                  "month": 9,
                  "value": {
                    "USD": 4373.80
                  },
                  "year": 2021
                },
                {
                  "month": 10,
                  "value": {
                    "USD": 4338.00
                  },
                  "year": 2021
                },
                {
                  "month": 11,
                  "value": {
                    "USD": 4311.15
                  },
                  "year": 2021
                },
                {
                  "month": 12,
                  "value": {
                    "USD": 6089.20
                  },
                  "year": 2021
                },
                {
                  "month": 1,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2022
                },
                {
                  "month": 2,
                  "value": {
                    "USD": 4302.20
                  },
                  "year": 2022
                }
              ],
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Income/Expenses \\ud83d\\udcb8",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Assets",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "link": "/beancount/account/{account}/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nconst data = panel.queries[0].result\\n  .filter((row) =\\u003e row.market_value[ledger.ccy])\\n  .map((row) =\\u003e ({ name: Object.keys(row.units)[0], value: row.market_value[ledger.ccy] }));\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${\\n        ledger.commodities[params.name]?.meta.name ?? params.name\\n      } \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${params.percent.toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"pie\\",\\n      data,\\n    },\\n  ],\\n};\\n",
          "title": "Assets \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/balance_sheet/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Net Worth \\ud83d\\udcb0",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = {\\n    market_value: row.market_value[ledger.ccy],\\n    book_value: row.book_value[ledger.ccy],\\n  };\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      name: \\"Market Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.market_value),\\n    },\\n    {\\n      type: \\"line\\",\\n      name: \\"Book Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.book_value),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Portfolio \\ud83d\\udcc8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.market_value[ledger.ccy] - row.book_value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n};\\n",
          "title": "Portfolio Gains \\u2728",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Asset Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Investment Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Assets Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Investments Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        }
      ]
    },
    {
      "name": "Income and Expenses",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(-panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Income per Month \\ud83d\\udcb0",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Expenses per Month \\ud83d\\udcb8",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027"
            },
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst percentFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"percent\\",\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst income = -panel.queries[0].result[0].value[ledger.ccy];\\nconst expenses = panel.queries[1].result[0].value[ledger.ccy];\\nconst rate = (income - expenses) / months;\\nconst ratePercent = 1 - expenses / income;\\nconst value = \`\${currencyFormat.format(rate)} (\${percentFormat.format(ratePercent)})\`;\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Savings per Month \\u2728",
          "type": "html",
          "width": "33.3%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 4) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e -row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Income\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Income Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 3) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Expenses\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Expenses Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#recurring\\u0026time={time}",
              "name": "Recurring",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=-#recurring\\u0026time={time}",
              "name": "Irregular",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Recurring Expenses \\ud83d\\udd01",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: months.map((month) =\\u003e amounts[month] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Food Expenses \\ud83e\\udd50",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = [\\n  \\"January\\",\\n  \\"February\\",\\n  \\"March\\",\\n  \\"April\\",\\n  \\"Mai\\",\\n  \\"June\\",\\n  \\"July\\",\\n  \\"August\\",\\n  \\"September\\",\\n  \\"Oktober\\",\\n  \\"November\\",\\n  \\"December\\",\\n];\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n  }\\n}\\n\\nlet series = [];\\nfor (let query of panel.queries) {\\n  for (let year of years) {\\n    series.push({\\n      type: \\"bar\\",\\n      name: query.name,\\n      stack: year,\\n      blub: 5,\\n      data: months.map((_, i) =\\u003e amounts[query.name][\`\${i + 1}/\${year}\`] ?? 0),\\n    });\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e {\\n      const month = params.dataIndex + 1;\\n      const stackIdx = params.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      return \`\${params.seriesName}\\u003cbr\\u003e\${\\n        params.marker\\n      } \${month}/\${year} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e\`;\\n    },\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const month = event.dataIndex + 1;\\n      const stackIdx = event.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.toString().padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Expenses Year-Over-Year \\ud83d\\udcb8",
          "type": "echarts"
        },
        {
          "queries": [
            {
              "bql": "SELECT date, payee, narration, position WHERE account ~ \\"^Expenses:\\" ORDER BY position DESC LIMIT 10"
            }
          ],
          "template": "{% import \\"_query_table.html\\" as querytable %}\\n{{ querytable.querytable(favaledger, None, panel.queries[0].result_types, panel.queries[0].result) }}\\n",
          "title": "Top 10 biggest expenses",
          "type": "jinja2"
        }
      ]
    },
    {
      "name": "Travelling",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT year, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by year\\nfor (let row of panel.queries[0].result) {\\n  amounts[row.year] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: years,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: years.map((year) =\\u003e amounts[year] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Travel Costs per Year \\ud83d\\udcc5",
          "type": "echarts"
        },
        {
          "height": "300px",
          "queries": [
            {
              "bql": "SELECT tags, CONVERT(position, \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nORDER BY date, tags\\n",
              "link": "/beancount/account/Expenses/?filter=#{travel}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst travels = [];\\nconst amounts = {};\\n\\nfor (let row of panel.queries[0].result) {\\n  const tag = row.tags.find((tag) =\\u003e tag.match(/\\\\-\\\\d{4}/));\\n  if (!(tag in amounts)) {\\n    travels.unshift(tag);\\n    amounts[tag] = 0;\\n  }\\n  amounts[tag] += row.value.number;\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  grid: {\\n    left: \\"150px\\",\\n  },\\n  xAxis: {\\n    type: \\"value\\",\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  yAxis: {\\n    type: \\"category\\",\\n    data: travels,\\n  },\\n  series: [\\n    {\\n      type: \\"bar\\",\\n      data: travels.map((travel) =\\u003e amounts[travel]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{travel}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Destinations \\u2708\\ufe0f",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Sankey",
      "panels": [
        {
          "height": "800px",
          "queries": [
            {
              "bql": "SELECT account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^(Income|Expenses):\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12); // monthly\\nconst valueThreshold = 10; // skip nodes below this value\\n\\nconst nodes = [{ name: \\"Income\\" }];\\nconst links = [];\\nfunction addNode(root) {\\n  for (let node of root.children) {\\n    let label = node.name.split(\\":\\").pop();\\n\\n    // skip over pass-through accounts\\n    while (node.children.length === 1) {\\n      node = node.children[0];\\n      label += \\":\\" + node.name.split(\\":\\").pop();\\n    }\\n\\n    // skip nodes below the threshold\\n    if (Math.abs(node.value / divisor) \\u003c valueThreshold) continue;\\n\\n    nodes.push({ name: node.name, label });\\n    if (node.name.startsWith(\\"Income\\")) {\\n      links.push({ source: node.name, target: root.name, value: -node.value / divisor });\\n    } else {\\n      links.push({\\n        source: root.name == \\"Expenses\\" ? \\"Income\\" : root.name,\\n        target: node.name,\\n        value: node.value / divisor,\\n      });\\n    }\\n    addNode(node);\\n  }\\n}\\n\\nconst accountTree = helpers.buildAccountTree(panel.queries[0].result, (row) =\\u003e row.value[ledger.ccy]);\\naddNode(accountTree.children[0]);\\naddNode(accountTree.children[1]);\\n\\nconst savings =\\n  accountTree.children[0].name === \\"Income\\"\\n    ? -accountTree.children[0].value - accountTree.children[1].value\\n    : -accountTree.children[1].value - accountTree.children[0].value;\\nif (savings \\u003e 0) {\\n  nodes.push({ name: \\"Savings\\" });\\n  links.push({ source: \\"Income\\", target: \\"Savings\\", value: savings / divisor });\\n}\\n\\nreturn {\\n  align: \\"left\\",\\n  valueFormatter: currencyFormat.format,\\n  data: {\\n    nodes,\\n    links,\\n  },\\n  onClick: (event, node) =\\u003e {\\n    if (node.name === \\"Savings\\") return;\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", node.name).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Sankey (per month) \\ud83d\\udcb8",
          "type": "d3_sankey"
        }
      ]
    }
  ],
  "ledger": {
    "ccy": "USD",
    "commodities": {
      "GLD": {
        "currency": "GLD",
        "date": "2004-11-01",
        "meta": {
          "asset_allocation_Commodity_Gold": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:GLD",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 52,
          "name": "SPDR Gold Trust (ETF)",
          "price": "USD:google/NYSEARCA:GLD"
        }
      },
      "ITOT": {
        "currency": "ITOT",
        "date": "2004-01-20",
        "meta": {
          "asset_allocation_Equity_Market_NonUS": 1,
          "asset_allocation_Equity_Market_US": 99,
          "asset_class": "ETF",
          "export": "NYSEARCA:ITOT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 37,
          "name": "iShares Core S\\u0026P Total U.S. Stock Market ETF",
          "price": "USD:google/NYSEARCA:ITOT"
        }
      },
      "RGAGX": {
        "currency": "RGAGX",
        "date": "2009-05-01",
        "meta": {
          "asset_allocation_Bond_Cash": 10,
          "asset_allocation_Equity_Market_NonUS": 11,
          "asset_allocation_Equity_Market_US": 79,
          "asset_class": "Fund",
          "export": "MUTF:RGAGX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 66,
          "name": "American Funds The Growth Fund of America Class R-6",
          "price": "USD:google/MUTF:RGAGX"
        }
      },
      "USD": {
        "currency": "USD",
        "date": "1792-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 100,
          "asset_class": "Cash",
          "export": "CASH",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 16,
          "name": "US Dollar"
        }
      },
      "VBMPX": {
        "currency": "VBMPX",
        "date": "1995-09-18",
        "meta": {
          "asset_allocation_Bond_NonUS": 9,
          "asset_allocation_Bond_US": 91,
          "asset_class": "Fund",
          "export": "MUTF:VBMPX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 29,
          "name": "Vanguard Total Bond Market Index Fund Institutional Plus Shares",
          "price": "USD:google/MUTF:VBMPX"
        }
      },
      "VEA": {
        "currency": "VEA",
        "date": "2007-07-20",
        "meta": {
          "asset_allocation_Equity_Market_DevelopedWorld": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VEA",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 59,
          "name": "Vanguard FTSE Developed Markets ETF",
          "price": "USD:google/NYSEARCA:VEA"
        }
      },
      "VHT": {
        "currency": "VHT",
        "date": "2004-01-26",
        "meta": {
          "asset_allocation_Equity_Sector_Health": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VHT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 45,
          "name": "Vanguard Health Care ETF",
          "price": "USD:google/NYSEARCA:VHT"
        }
      },
      "VMMXX": {
        "currency": "VMMXX",
        "date": "1900-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 82,
          "asset_allocation_Bond_US": 18,
          "asset_class": "Fund",
          "export": "MUTF:VMMXX (MONEY:USD)",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 22,
          "name": "Vanguard Cash Reserves Federal Money Market Fund"
        }
      }
    },
    "dateFirst": "2020-01-01",
    "dateLast": "2022-02-28",
    "operatingCurrencies": [
      "USD"
    ]
  }
}
</script>
<div class="headerline">
  <h3>
    Overview
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=1">
      Assets
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=2">
      Income and Expenses
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=3">
      Travelling
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=4">
      Sankey
    </a>
  </h3>
</div>
<div id="dashboard">
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Assets 
    </h2>
    <div id="panel0"
         style="height: 80px"
    >
      <div style="font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;">
        $100,098
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 50%"
  >
    <h2>
      Liabilities 
    </h2>
    <div id="panel1"
         style="height: 80px"
    >
      <div style="font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;">
        $3,555
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 100%"
  >
    <h2>
      Income/Expenses 
    </h2>
    <div id="panel2"
         style="height: 520px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 1438px; height: 520px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="1438"
             height="520"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="1438"
                height="520"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M143.8 450.5L1294.2 450.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 385.5L1294.2 385.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 320.5L1294.2 320.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 255.5L1294.2 255.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 190.5L1294.2 190.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 125.5L1294.2 125.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 60.5L1294.2 60.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 450.5L1294.2 450.5"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M144.5 450L144.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M232.5 450L232.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M321.5 450L321.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M409.5 450L409.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M498.5 450L498.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M586.5 450L586.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M675.5 450L675.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M763.5 450L763.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M851.5 450L851.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M940.5 450L940.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1028.5 450L1028.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1117.5 450L1117.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1205.5 450L1205.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1294.5 450L1294.5 455"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 450)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 385)"
                  fill="#6E7079"
            >
              $3,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 320)"
                  fill="#6E7079"
            >
              $6,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 255)"
                  fill="#6E7079"
            >
              $9,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 190)"
                  fill="#6E7079"
            >
              $12,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 125)"
                  fill="#6E7079"
            >
              $15,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 60)"
                  fill="#6E7079"
            >
              $18,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(165.9231 458)"
                  fill="#6E7079"
            >
              1/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(254.4154 458)"
                  fill="#6E7079"
            >
              3/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(342.9077 458)"
                  fill="#6E7079"
            >
              5/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(431.4 458)"
                  fill="#6E7079"
            >
              7/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(519.8923 458)"
                  fill="#6E7079"
            >
              9/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(608.3846 458)"
                  fill="#6E7079"
            >
              11/2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(696.8769 458)"
                  fill="#6E7079"
            >
              1/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(785.3692 458)"
                  fill="#6E7079"
            >
              3/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(873.8615 458)"
                  fill="#6E7079"
            >
              5/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(962.3538 458)"
                  fill="#6E7079"
            >
              7/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1050.8462 458)"
                  fill="#6E7079"
            >
              9/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1139.3385 458)"
                  fill="#6E7079"
            >
              11/2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1227.8308 458)"
                  fill="#6E7079"
            >
              1/2022
            </text>
            <path d="M149.7732 450l14.6817 0l0 -340.5805l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M194.0194 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M238.2655 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M282.5117 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M326.7578 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M371.004 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M415.2502 450l14.6817 0l0 -332.9972l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M459.4963 450l14.6817 0l0 -201.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M503.7425 450l14.6817 0l0 -201.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M547.9886 450l14.6817 0l0 -201.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M592.2348 450l14.6817 0l0 -201.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M636.4809 450l14.6817 0l0 -302.2218l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M680.7271 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M724.9732 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M769.2194 450l14.6817 0l0 -227.695l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M813.4655 450l14.6817 0l0 -230.9862l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M857.7117 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M901.9578 450l14.6817 0l0 -228.0367l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M946.204 450l14.6817 0l0 -340.5805l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M990.4502 450l14.6817 0l0 -206.4703l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1034.6963 450l14.6817 0l0 -207.995l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1078.9425 450l14.6817 0l0 -201.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1123.1886 450l14.6817 0l0 -203.515l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1167.4348 450l14.6817 0l0 -303.5344l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1211.6809 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M1255.9271 450l14.6817 0l0 -227.0537l-14.6817 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M167.3912 450l14.6817 0l0 -56.3953l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M211.6374 450l14.6817 0l0 -56.4649l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M255.8836 450l14.6817 0l0 -56.3819l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M300.1297 450l14.6817 0l0 -56.3494l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M344.3759 450l14.6817 0l0 -56.2172l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M388.622 450l14.6817 0l0 -56.2675l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M432.8682 450l14.6817 0l0 -56.3279l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M477.1143 450l14.6817 0l0 -55.7464l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M521.3605 450l14.6817 0l0 -56.4739l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M565.6066 450l14.6817 0l0 -56.5604l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M609.8528 450l14.6817 0l0 -56.3624l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M654.0989 450l14.6817 0l0 -56.4224l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M698.3451 450l14.6817 0l0 -56.326l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M742.5912 450l14.6817 0l0 -56.3717l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M786.8374 450l14.6817 0l0 -56.3671l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M831.0836 450l14.6817 0l0 -56.5615l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M875.3297 450l14.6817 0l0 -56.5929l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M919.5759 450l14.6817 0l0 -56.8332l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M963.822 450l14.6817 0l0 -56.9469l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1008.0682 450l14.6817 0l0 -56.3528l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1052.3143 450l14.6817 0l0 -55.7629l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1096.5605 450l14.6817 0l0 -56.038l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1140.8066 450l14.6817 0l0 -56.7584l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1185.0528 450l14.6817 0l0 -56.4674l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1229.2989 450l14.6817 0l0 -56.1656l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M1273.5451 450l14.6817 0l0 0l-14.6817 0Z"
                  fill="#91cc75"
            >
            </path>
            <path d="M167.3912 393.6047l14.6817 0l0 -7.9148l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M211.6374 393.5352l14.6817 0l0 -10.9651l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M255.8836 393.6181l14.6817 0l0 -13.9683l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M300.1297 393.6506l14.6817 0l0 -11.6491l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M344.3759 393.7828l14.6817 0l0 -12.2926l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M388.622 393.7325l14.6817 0l0 -9.4291l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M432.8682 393.6721l14.6817 0l0 -6.2419l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M477.1143 394.2536l14.6817 0l0 -11.3858l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M521.3605 393.5261l14.6817 0l0 -12.4063l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M565.6066 393.4396l14.6817 0l0 -13.291l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M609.8528 393.6376l14.6817 0l0 -14.2443l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M654.0989 393.5776l14.6817 0l0 -14.4774l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M698.3451 393.674l14.6817 0l0 -13.1478l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M742.5912 393.6283l14.6817 0l0 -11.8499l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M786.8374 393.6329l14.6817 0l0 -11.2335l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M831.0836 393.4385l14.6817 0l0 -10.9659l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M875.3297 393.4071l14.6817 0l0 -16.9977l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M919.5759 393.1668l14.6817 0l0 -7.6579l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M963.822 393.0531l14.6817 0l0 -9.9522l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1008.0682 393.6472l14.6817 0l0 -8.2249l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1052.3143 394.2372l14.6817 0l0 -10.2819l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1096.5605 393.962l14.6817 0l0 -10.5586l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1140.8066 393.2416l14.6817 0l0 -9.9093l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1185.0528 393.5326l14.6817 0l0 -7.199l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1229.2989 393.8344l14.6817 0l0 -13.92l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M1273.5451 450l14.6817 0l0 -7.452l-14.6817 0Z"
                  fill="#fac858"
            >
            </path>
            <path d="M167.3912 385.6899l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M211.6374 382.5701l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M255.8836 379.6499l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M300.1297 382.0016l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M344.3759 381.4902l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M388.622 384.3034l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M432.8682 387.4301l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M477.1143 382.8678l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M521.3605 381.1197l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M565.6066 380.1486l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M609.8528 379.3933l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M654.0989 379.1002l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M698.3451 380.5263l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M742.5912 381.7784l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M786.8374 382.3994l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M831.0836 382.4726l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M875.3297 376.4094l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M919.5759 385.509l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M963.822 383.1009l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1008.0682 385.4223l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1052.3143 383.9552l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1096.5605 383.4034l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1140.8066 383.3323l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1185.0528 386.3336l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1229.2989 379.9144l14.6817 0l0 0l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M1273.5451 442.548l14.6817 0l0 -19.5l-14.6817 0Z"
                  fill="#ee6666"
            >
            </path>
            <path d="M167.3912 385.6899l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M211.6374 382.5701l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M255.8836 379.6499l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M300.1297 382.0016l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M344.3759 381.4902l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M388.622 384.3034l14.6817 0l0 -9.6596l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M432.8682 387.4301l14.6817 0l0 -12.1749l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M477.1143 382.8678l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M521.3605 381.1197l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M565.6066 380.1486l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M609.8528 379.3933l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M654.0989 379.1002l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M698.3451 380.5263l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M742.5912 381.7784l14.6817 0l0 -6.7793l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M786.8374 382.3994l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M831.0836 382.4726l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M875.3297 376.4094l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M919.5759 385.509l14.6817 0l0 -7.5651l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M963.822 383.1009l14.6817 0l0 -4.4924l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1008.0682 385.4223l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1052.3143 383.9552l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1096.5605 383.4034l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1140.8066 383.3323l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1185.0528 386.3336l14.6817 0l0 -13.4814l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1229.2989 379.9144l14.6817 0l0 -2.618l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M1273.5451 423.048l14.6817 0l0 0l-14.6817 0Z"
                  fill="#73c0de"
            >
            </path>
            <path d="M167.3912 385.6899l14.6817 0l0 -138.4782l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M211.6374 382.5701l14.6817 0l0 -90.6143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M255.8836 379.6499l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M300.1297 382.0016l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M344.3759 381.4902l14.6817 0l0 -95.8143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M388.622 374.6438l14.6817 0l0 -90.6143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M432.8682 375.2552l14.6817 0l0 -138.4782l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M477.1143 382.8678l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M521.3605 381.1197l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M565.6066 380.1486l14.6817 0l0 -93.7961l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M609.8528 379.3933l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M654.0989 379.1002l14.6817 0l0 -125.6387l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M698.3451 380.5263l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M742.5912 374.9991l14.6817 0l0 -90.6143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M786.8374 382.3993l14.6817 0l0 -117.4457l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M831.0836 382.4726l14.6817 0l0 -94.1839l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M875.3297 376.4094l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M919.5759 377.9438l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M963.822 378.6086l14.6817 0l0 -138.4782l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M1008.0682 385.4223l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M1052.3143 383.9552l14.6817 0l0 -94.7657l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M1096.5605 383.4034l14.6817 0l0 -93.99l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M1140.8066 383.3323l14.6817 0l0 -93.4082l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M1185.0528 372.8522l14.6817 0l0 -131.9327l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M1229.2989 377.2964l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M1273.5451 423.048l14.6817 0l0 -93.2143l-14.6817 0Z"
                  fill="#3ba272"
            >
            </path>
            <path d="M-5 -5l464.3555 0l0 24l-464.3555 0Z"
                  transform="translate(491.8223 501)"
                  fill="rgb(0,0,0)"
                  fill-opacity="0"
                  stroke="#ccc"
                  stroke-width="0"
            >
            </path>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(491.8223 501)"
                  fill="#5470c6"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(491.8223 501)"
                  fill="#333"
            >
              Income
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(571.1738 501)"
                  fill="#91cc75"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(571.1738 501)"
                  fill="#333"
            >
              Housing
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(655.2012 501)"
                  fill="#fac858"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(655.2012 501)"
                  fill="#333"
            >
              Food
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(722.5527 501)"
                  fill="#ee6666"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(722.5527 501)"
                  fill="#333"
            >
              Shopping
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(813.2656 501)"
                  fill="#73c0de"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(813.2656 501)"
                  fill="#333"
            >
              Travel
            </text>
            <path d="M3.5 0L21.5 0A3.5 3.5 0 0 1 25 3.5L25 10.5A3.5 3.5 0 0 1 21.5 14L3.5 14A3.5 3.5 0 0 1 0 10.5L0 3.5A3.5 3.5 0 0 1 3.5 0"
                  transform="translate(886.166 501)"
                  fill="#3ba272"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="start"
                  style="font-size:12px;font-family:sans-serif;"
                  x="30"
                  y="7"
                  transform="translate(886.166 501)"
                  fill="#333"
            >
              Other
            </text>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
</div>
<script type="application/json"
        id="page-title"
>
  "Dashboards"
</script>
`;

exports[`Dashboard: HTML Snapshot Tests Sankey 1`] = `
<style type="text/css">
  #dashboard {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}
#dashboard .panel {
    padding: 20px;
    min-width: 300px;
}
#dashboard .panel h2 {
    text-align: center;
}

/* set panel min-width to 100% on screens
  < 802px (navbar + padding + 2*300px) */
@media (max-width: 802px) {
    #dashboard .panel {
        min-width: 100%;
    }
}
</style>
<script id="favaDashboardsBootstrap"
        type="application/json"
>
  {
  "dashboardId": 4,
  "dashboards": [
    {
      "name": "Overview",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Assets:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ?? 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Assets \\ud83d\\udcb0",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Liabilities:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ? -value : 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Liabilities \\ud83d\\udcb3",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "520px",
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Income/?time={time}",
              "name": "Income",
              "stack": "income"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Income/Expenses \\ud83d\\udcb8",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Assets",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "link": "/beancount/account/{account}/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nconst data = panel.queries[0].result\\n  .filter((row) =\\u003e row.market_value[ledger.ccy])\\n  .map((row) =\\u003e ({ name: Object.keys(row.units)[0], value: row.market_value[ledger.ccy] }));\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${\\n        ledger.commodities[params.name]?.meta.name ?? params.name\\n      } \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${params.percent.toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"pie\\",\\n      data,\\n    },\\n  ],\\n};\\n",
          "title": "Assets \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/balance_sheet/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Net Worth \\ud83d\\udcb0",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = {\\n    market_value: row.market_value[ledger.ccy],\\n    book_value: row.book_value[ledger.ccy],\\n  };\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      name: \\"Market Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.market_value),\\n    },\\n    {\\n      type: \\"line\\",\\n      name: \\"Book Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.book_value),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Portfolio \\ud83d\\udcc8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.market_value[ledger.ccy] - row.book_value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n};\\n",
          "title": "Portfolio Gains \\u2728",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Asset Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Investment Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Assets Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Investments Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        }
      ]
    },
    {
      "name": "Income and Expenses",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(-panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Income per Month \\ud83d\\udcb0",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Expenses per Month \\ud83d\\udcb8",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027"
            },
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst percentFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"percent\\",\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst income = -panel.queries[0].result[0].value[ledger.ccy];\\nconst expenses = panel.queries[1].result[0].value[ledger.ccy];\\nconst rate = (income - expenses) / months;\\nconst ratePercent = 1 - expenses / income;\\nconst value = \`\${currencyFormat.format(rate)} (\${percentFormat.format(ratePercent)})\`;\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Savings per Month \\u2728",
          "type": "html",
          "width": "33.3%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 4) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e -row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Income\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Income Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 3) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Expenses\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Expenses Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#recurring\\u0026time={time}",
              "name": "Recurring",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=-#recurring\\u0026time={time}",
              "name": "Irregular",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Recurring Expenses \\ud83d\\udd01",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: months.map((month) =\\u003e amounts[month] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Food Expenses \\ud83e\\udd50",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = [\\n  \\"January\\",\\n  \\"February\\",\\n  \\"March\\",\\n  \\"April\\",\\n  \\"Mai\\",\\n  \\"June\\",\\n  \\"July\\",\\n  \\"August\\",\\n  \\"September\\",\\n  \\"Oktober\\",\\n  \\"November\\",\\n  \\"December\\",\\n];\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n  }\\n}\\n\\nlet series = [];\\nfor (let query of panel.queries) {\\n  for (let year of years) {\\n    series.push({\\n      type: \\"bar\\",\\n      name: query.name,\\n      stack: year,\\n      blub: 5,\\n      data: months.map((_, i) =\\u003e amounts[query.name][\`\${i + 1}/\${year}\`] ?? 0),\\n    });\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e {\\n      const month = params.dataIndex + 1;\\n      const stackIdx = params.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      return \`\${params.seriesName}\\u003cbr\\u003e\${\\n        params.marker\\n      } \${month}/\${year} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e\`;\\n    },\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const month = event.dataIndex + 1;\\n      const stackIdx = event.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.toString().padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Expenses Year-Over-Year \\ud83d\\udcb8",
          "type": "echarts"
        },
        {
          "queries": [
            {
              "bql": "SELECT date, payee, narration, position WHERE account ~ \\"^Expenses:\\" ORDER BY position DESC LIMIT 10"
            }
          ],
          "template": "{% import \\"_query_table.html\\" as querytable %}\\n{{ querytable.querytable(favaledger, None, panel.queries[0].result_types, panel.queries[0].result) }}\\n",
          "title": "Top 10 biggest expenses",
          "type": "jinja2"
        }
      ]
    },
    {
      "name": "Travelling",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT year, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by year\\nfor (let row of panel.queries[0].result) {\\n  amounts[row.year] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: years,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: years.map((year) =\\u003e amounts[year] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Travel Costs per Year \\ud83d\\udcc5",
          "type": "echarts"
        },
        {
          "height": "300px",
          "queries": [
            {
              "bql": "SELECT tags, CONVERT(position, \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nORDER BY date, tags\\n",
              "link": "/beancount/account/Expenses/?filter=#{travel}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst travels = [];\\nconst amounts = {};\\n\\nfor (let row of panel.queries[0].result) {\\n  const tag = row.tags.find((tag) =\\u003e tag.match(/\\\\-\\\\d{4}/));\\n  if (!(tag in amounts)) {\\n    travels.unshift(tag);\\n    amounts[tag] = 0;\\n  }\\n  amounts[tag] += row.value.number;\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  grid: {\\n    left: \\"150px\\",\\n  },\\n  xAxis: {\\n    type: \\"value\\",\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  yAxis: {\\n    type: \\"category\\",\\n    data: travels,\\n  },\\n  series: [\\n    {\\n      type: \\"bar\\",\\n      data: travels.map((travel) =\\u003e amounts[travel]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{travel}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Destinations \\u2708\\ufe0f",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Sankey",
      "panels": [
        {
          "height": "800px",
          "queries": [
            {
              "bql": "SELECT account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^(Income|Expenses):\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/?time={time}",
              "result": [
                {
                  "account": "Income:US:Hooli:Salary",
                  "value": {
                    "USD": -263076.66
                  }
                },
                {
                  "account": "Income:US:Hooli:GroupTermLife",
                  "value": {
                    "USD": -1386.24
                  }
                },
                {
                  "account": "Expenses:Health:Life:GroupTermLife",
                  "value": {
                    "USD": 1386.24
                  }
                },
                {
                  "account": "Expenses:Health:Dental:Insurance",
                  "value": {
                    "USD": 165.30
                  }
                },
                {
                  "account": "Expenses:Health:Medical:Insurance",
                  "value": {
                    "USD": 1560.66
                  }
                },
                {
                  "account": "Expenses:Health:Vision:Insurance",
                  "value": {
                    "USD": 2411.10
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2020:US:Medicare",
                  "value": {
                    "USD": 2878.74
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2020:US:Federal",
                  "value": {
                    "USD": 29335.05
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2020:US:State",
                  "value": {
                    "USD": 10339.32
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2020:US:CityNYC",
                  "value": {
                    "USD": 4722.84
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2020:US:SDI",
                  "value": {
                    "USD": 30.24
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2020:US:SocSec",
                  "value": {
                    "USD": 7000.04
                  }
                },
                {
                  "account": "Expenses:Food:Restaurant",
                  "value": {
                    "USD": 10863.58
                  }
                },
                {
                  "account": "Income:US:Hooli:Match401k",
                  "value": {
                    "USD": -20900.00
                  }
                },
                {
                  "account": "Expenses:Financial:Fees",
                  "value": {
                    "USD": 104.00
                  }
                },
                {
                  "account": "Expenses:Housing:Rent",
                  "value": {
                    "USD": 60000.00
                  }
                },
                {
                  "account": "Expenses:Housing:Electricity",
                  "value": {
                    "USD": 1625.00
                  }
                },
                {
                  "account": "Expenses:Food:Groceries",
                  "value": {
                    "USD": 4838.44
                  }
                },
                {
                  "account": "Expenses:Housing:Phone",
                  "value": {
                    "USD": 1429.78
                  }
                },
                {
                  "account": "Expenses:Housing:Internet",
                  "value": {
                    "USD": 1999.71
                  }
                },
                {
                  "account": "Expenses:Transport:Tram",
                  "value": {
                    "USD": 2880.00
                  }
                },
                {
                  "account": "Expenses:Food:Coffee",
                  "value": {
                    "USD": 117.49
                  }
                },
                {
                  "account": "Income:US:ETrade:ITOT:Dividend",
                  "value": {
                    "USD": -29.60
                  }
                },
                {
                  "account": "Expenses:Financial:Commissions",
                  "value": {
                    "USD": 214.80
                  }
                },
                {
                  "account": "Income:US:ETrade:VEA:Dividend",
                  "value": {
                    "USD": -29.60
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2021:US:Medicare",
                  "value": {
                    "USD": 2772.12
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2021:US:Federal",
                  "value": {
                    "USD": 27635.92
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2021:US:State",
                  "value": {
                    "USD": 9492.08
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2021:US:CityNYC",
                  "value": {
                    "USD": 4547.92
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2021:US:SDI",
                  "value": {
                    "USD": 29.12
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2021:US:SocSec",
                  "value": {
                    "USD": 7000.04
                  }
                },
                {
                  "account": "Expenses:Food:Alcohol",
                  "value": {
                    "USD": 75.28
                  }
                },
                {
                  "account": "Income:US:ETrade:PnL",
                  "value": {
                    "USD": -550.50
                  }
                },
                {
                  "account": "Income:US:ETrade:GLD:Dividend",
                  "value": {
                    "USD": -135.55
                  }
                },
                {
                  "account": "Income:US:ETrade:VHT:Dividend",
                  "value": {
                    "USD": -64.97
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2022:US:Medicare",
                  "value": {
                    "USD": 426.48
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2022:US:Federal",
                  "value": {
                    "USD": 4251.68
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2022:US:State",
                  "value": {
                    "USD": 1460.32
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2022:US:CityNYC",
                  "value": {
                    "USD": 699.68
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2022:US:SDI",
                  "value": {
                    "USD": 4.48
                  }
                },
                {
                  "account": "Expenses:Taxes:Y2022:US:SocSec",
                  "value": {
                    "USD": 1126.16
                  }
                },
                {
                  "account": "Expenses:Shopping:Electronics",
                  "value": {
                    "USD": 900.00
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12); // monthly\\nconst valueThreshold = 10; // skip nodes below this value\\n\\nconst nodes = [{ name: \\"Income\\" }];\\nconst links = [];\\nfunction addNode(root) {\\n  for (let node of root.children) {\\n    let label = node.name.split(\\":\\").pop();\\n\\n    // skip over pass-through accounts\\n    while (node.children.length === 1) {\\n      node = node.children[0];\\n      label += \\":\\" + node.name.split(\\":\\").pop();\\n    }\\n\\n    // skip nodes below the threshold\\n    if (Math.abs(node.value / divisor) \\u003c valueThreshold) continue;\\n\\n    nodes.push({ name: node.name, label });\\n    if (node.name.startsWith(\\"Income\\")) {\\n      links.push({ source: node.name, target: root.name, value: -node.value / divisor });\\n    } else {\\n      links.push({\\n        source: root.name == \\"Expenses\\" ? \\"Income\\" : root.name,\\n        target: node.name,\\n        value: node.value / divisor,\\n      });\\n    }\\n    addNode(node);\\n  }\\n}\\n\\nconst accountTree = helpers.buildAccountTree(panel.queries[0].result, (row) =\\u003e row.value[ledger.ccy]);\\naddNode(accountTree.children[0]);\\naddNode(accountTree.children[1]);\\n\\nconst savings =\\n  accountTree.children[0].name === \\"Income\\"\\n    ? -accountTree.children[0].value - accountTree.children[1].value\\n    : -accountTree.children[1].value - accountTree.children[0].value;\\nif (savings \\u003e 0) {\\n  nodes.push({ name: \\"Savings\\" });\\n  links.push({ source: \\"Income\\", target: \\"Savings\\", value: savings / divisor });\\n}\\n\\nreturn {\\n  align: \\"left\\",\\n  valueFormatter: currencyFormat.format,\\n  data: {\\n    nodes,\\n    links,\\n  },\\n  onClick: (event, node) =\\u003e {\\n    if (node.name === \\"Savings\\") return;\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", node.name).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Sankey (per month) \\ud83d\\udcb8",
          "type": "d3_sankey"
        }
      ]
    }
  ],
  "ledger": {
    "ccy": "USD",
    "commodities": {
      "GLD": {
        "currency": "GLD",
        "date": "2004-11-01",
        "meta": {
          "asset_allocation_Commodity_Gold": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:GLD",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 52,
          "name": "SPDR Gold Trust (ETF)",
          "price": "USD:google/NYSEARCA:GLD"
        }
      },
      "ITOT": {
        "currency": "ITOT",
        "date": "2004-01-20",
        "meta": {
          "asset_allocation_Equity_Market_NonUS": 1,
          "asset_allocation_Equity_Market_US": 99,
          "asset_class": "ETF",
          "export": "NYSEARCA:ITOT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 37,
          "name": "iShares Core S\\u0026P Total U.S. Stock Market ETF",
          "price": "USD:google/NYSEARCA:ITOT"
        }
      },
      "RGAGX": {
        "currency": "RGAGX",
        "date": "2009-05-01",
        "meta": {
          "asset_allocation_Bond_Cash": 10,
          "asset_allocation_Equity_Market_NonUS": 11,
          "asset_allocation_Equity_Market_US": 79,
          "asset_class": "Fund",
          "export": "MUTF:RGAGX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 66,
          "name": "American Funds The Growth Fund of America Class R-6",
          "price": "USD:google/MUTF:RGAGX"
        }
      },
      "USD": {
        "currency": "USD",
        "date": "1792-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 100,
          "asset_class": "Cash",
          "export": "CASH",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 16,
          "name": "US Dollar"
        }
      },
      "VBMPX": {
        "currency": "VBMPX",
        "date": "1995-09-18",
        "meta": {
          "asset_allocation_Bond_NonUS": 9,
          "asset_allocation_Bond_US": 91,
          "asset_class": "Fund",
          "export": "MUTF:VBMPX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 29,
          "name": "Vanguard Total Bond Market Index Fund Institutional Plus Shares",
          "price": "USD:google/MUTF:VBMPX"
        }
      },
      "VEA": {
        "currency": "VEA",
        "date": "2007-07-20",
        "meta": {
          "asset_allocation_Equity_Market_DevelopedWorld": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VEA",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 59,
          "name": "Vanguard FTSE Developed Markets ETF",
          "price": "USD:google/NYSEARCA:VEA"
        }
      },
      "VHT": {
        "currency": "VHT",
        "date": "2004-01-26",
        "meta": {
          "asset_allocation_Equity_Sector_Health": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VHT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 45,
          "name": "Vanguard Health Care ETF",
          "price": "USD:google/NYSEARCA:VHT"
        }
      },
      "VMMXX": {
        "currency": "VMMXX",
        "date": "1900-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 82,
          "asset_allocation_Bond_US": 18,
          "asset_class": "Fund",
          "export": "MUTF:VMMXX (MONEY:USD)",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 22,
          "name": "Vanguard Cash Reserves Federal Money Market Fund"
        }
      }
    },
    "dateFirst": "2020-01-01",
    "dateLast": "2022-02-28",
    "operatingCurrencies": [
      "USD"
    ]
  }
}
</script>
<div class="headerline">
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=0">
      Overview
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=1">
      Assets
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=2">
      Income and Expenses
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=3">
      Travelling
    </a>
  </h3>
  <h3>
    Sankey
  </h3>
</div>
<div id="dashboard">
  <div class="panel"
       style="width: 100%"
  >
    <h2>
      Sankey (per month) 
    </h2>
    <div id="panel0"
         style="height: 800px"
    >
      <svg viewbox="0,0,1438,800">
        <g stroke="#000">
          <rect x="711.5"
                y="18.865450700534392"
                height="719.9999999999999"
                width="15"
                fill="#1f77b4"
          >
            <title>
              Income: $11,018
            </title>
          </rect>
          <rect x="474.6666666666667"
                y="18.13866633377942"
                height="720"
                width="15"
                fill="#ff7f0e"
          >
            <title>
              Income:US: $11,018
            </title>
          </rect>
          <rect x="237.83333333333334"
                y="17.35706384790646"
                height="717.9615192370268"
                width="15"
                fill="#2ca02c"
          >
            <title>
              Income:US:Hooli: $10,987
            </title>
          </rect>
          <rect x="1"
                y="15.404592346406286"
                height="661.8902404250966"
                width="15"
                fill="#d62728"
          >
            <title>
              Income:US:Hooli:Salary: $10,129
            </title>
          </rect>
          <rect x="1"
                y="687.2948327715029"
                height="3.487723794603653"
                width="15"
                fill="#9467bd"
          >
            <title>
              Income:US:Hooli:GroupTermLife: $53
            </title>
          </rect>
          <rect x="1"
                y="700.7825565661066"
                height="52.58355501732649"
                width="15"
                fill="#8c564b"
          >
            <title>
              Income:US:Hooli:Match401k: $805
            </title>
          </rect>
          <rect x="237.83333333333334"
                y="762.9414618469743"
                height="2.0384807629731085"
                width="15"
                fill="#e377c2"
          >
            <title>
              Income:US:ETrade: $31
            </title>
          </rect>
          <rect x="1"
                y="763.366111583433"
                height="1.3850357433989302"
                width="15"
                fill="#7f7f7f"
          >
            <title>
              Income:US:ETrade:PnL: $21
            </title>
          </rect>
          <rect x="948.3333333333334"
                y="311.99809961187145"
                height="13.896399494124466"
                width="15"
                fill="#bcbd22"
          >
            <title>
              Expenses:Health: $213
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="335.12256916372894"
                height="3.4877237946038804"
                width="15"
                fill="#17becf"
          >
            <title>
              Expenses:Health:Life:GroupTermLife: $53
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="321.1960117008896"
                height="3.926557462839355"
                width="15"
                fill="#1f77b4"
          >
            <title>
              Expenses:Health:Medical:Insurance: $60
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="348.6102929583328"
                height="6.066230119726129"
                width="15"
                fill="#ff7f0e"
          >
            <title>
              Expenses:Health:Vision:Insurance: $93
            </title>
          </rect>
          <rect x="948.3333333333334"
                y="4.999999999999998"
                height="286.19601170088947"
                width="15"
                fill="#2ca02c"
          >
            <title>
              Expenses:Taxes: $4,380
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="4.9999999999999964"
                height="136.63227909036328"
                width="15"
                fill="#d62728"
          >
            <title>
              Expenses:Taxes:Y2020:US: $2,091
            </title>
          </rect>
          <rect x="1422"
                y="88.80579979000123"
                height="7.242793453137736"
                width="15"
                fill="#9467bd"
          >
            <title>
              Expenses:Taxes:Y2020:US:Medicare: $111
            </title>
          </rect>
          <rect x="1422"
                y="5"
                height="73.80579979000123"
                width="15"
                fill="#8c564b"
          >
            <title>
              Expenses:Taxes:Y2020:US:Federal: $1,129
            </title>
          </rect>
          <rect x="1422"
                y="106.04859324313897"
                height="26.013311103432827"
                width="15"
                fill="#e377c2"
          >
            <title>
              Expenses:Taxes:Y2020:US:State: $398
            </title>
          </rect>
          <rect x="1422"
                y="142.0619043465718"
                height="11.882474496556483"
                width="15"
                fill="#7f7f7f"
          >
            <title>
              Expenses:Taxes:Y2020:US:CityNYC: $182
            </title>
          </rect>
          <rect x="1422"
                y="243.47523624860366"
                height="17.611817629831933"
                width="15"
                fill="#bcbd22"
          >
            <title>
              Expenses:Taxes:Y2020:US:SocSec: $270
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="151.63227909036328"
                height="129.51455398746066"
                width="15"
                fill="#17becf"
          >
            <title>
              Expenses:Taxes:Y2021:US: $1,982
            </title>
          </rect>
          <rect x="1422"
                y="271.0870538784356"
                height="6.9745418437622675"
                width="15"
                fill="#1f77b4"
          >
            <title>
              Expenses:Taxes:Y2021:US:Medicare: $107
            </title>
          </rect>
          <rect x="1422"
                y="163.94437884312828"
                height="69.53085740547539"
                width="15"
                fill="#ff7f0e"
          >
            <title>
              Expenses:Taxes:Y2021:US:Federal: $1,064
            </title>
          </rect>
          <rect x="1422"
                y="288.06159572219786"
                height="23.88168951717057"
                width="15"
                fill="#2ca02c"
          >
            <title>
              Expenses:Taxes:Y2021:US:State: $365
            </title>
          </rect>
          <rect x="1422"
                y="321.94328523936844"
                height="11.442382848535829"
                width="15"
                fill="#d62728"
          >
            <title>
              Expenses:Taxes:Y2021:US:CityNYC: $175
            </title>
          </rect>
          <rect x="1422"
                y="375.15572951086386"
                height="17.611817629831876"
                width="15"
                fill="#9467bd"
          >
            <title>
              Expenses:Taxes:Y2021:US:SocSec: $270
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="291.14683307782394"
                height="20.049178623065643"
                width="15"
                fill="#8c564b"
          >
            <title>
              Expenses:Taxes:Y2022:US: $307
            </title>
          </rect>
          <rect x="1422"
                y="343.38566808790426"
                height="1.073006437501931"
                width="15"
                fill="#e377c2"
          >
            <title>
              Expenses:Taxes:Y2022:US:Medicare: $16
            </title>
          </rect>
          <rect x="1422"
                y="354.4586745254062"
                height="10.697054985457669"
                width="15"
                fill="#7f7f7f"
          >
            <title>
              Expenses:Taxes:Y2022:US:Federal: $164
            </title>
          </rect>
          <rect x="1422"
                y="402.76754714069574"
                height="3.674106079564808"
                width="15"
                fill="#bcbd22"
          >
            <title>
              Expenses:Taxes:Y2022:US:State: $56
            </title>
          </rect>
          <rect x="1422"
                y="416.44165322026055"
                height="1.7603665920823914"
                width="15"
                fill="#17becf"
          >
            <title>
              Expenses:Taxes:Y2022:US:CityNYC: $27
            </title>
          </rect>
          <rect x="1422"
                y="428.20201981234294"
                height="2.833373029584436"
                width="15"
                fill="#1f77b4"
          >
            <title>
              Expenses:Taxes:Y2022:US:SocSec: $43
            </title>
          </rect>
          <rect x="948.3333333333334"
                y="335.8944991059959"
                height="39.99064901693066"
                width="15"
                fill="#ff7f0e"
          >
            <title>
              Expenses:Food: $612
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="364.67652307805895"
                height="27.332328067709568"
                width="15"
                fill="#2ca02c"
          >
            <title>
              Expenses:Food:Restaurant: $418
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="402.0088511457685"
                height="12.173319422872396"
                width="15"
                fill="#d62728"
          >
            <title>
              Expenses:Food:Groceries: $186
            </title>
          </rect>
          <rect x="948.3333333333334"
                y="301.19601170088947"
                height="0.8020879109819816"
                width="15"
                fill="#9467bd"
          >
            <title>
              Expenses:Financial: $12
            </title>
          </rect>
          <rect x="948.3333333333334"
                y="385.8851481229266"
                height="163.6744667004366"
                width="15"
                fill="#8c564b"
          >
            <title>
              Expenses:Housing: $2,505
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="424.1821705686409"
                height="150.95757421242115"
                width="15"
                fill="#e377c2"
          >
            <title>
              Expenses:Housing:Rent: $2,310
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="585.1397447810621"
                height="4.088434301585949"
                width="15"
                fill="#7f7f7f"
          >
            <title>
              Expenses:Housing:Electricity: $63
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="599.228179082648"
                height="3.597268674290717"
                width="15"
                fill="#bcbd22"
          >
            <title>
              Expenses:Housing:Phone: $55
            </title>
          </rect>
          <rect x="1185.1666666666667"
                y="612.8254477569387"
                height="5.031189512138553"
                width="15"
                fill="#17becf"
          >
            <title>
              Expenses:Housing:Internet: $77
            </title>
          </rect>
          <rect x="948.3333333333334"
                y="787.7540364378041"
                height="7.245963562196039"
                width="15"
                fill="#1f77b4"
          >
            <title>
              Expenses:Transport:Tram: $111
            </title>
          </rect>
          <rect x="948.3333333333334"
                y="559.5596148233632"
                height="2.264363613186333"
                width="15"
                fill="#ff7f0e"
          >
            <title>
              Expenses:Shopping:Electronics: $35
            </title>
          </rect>
          <rect x="948.3333333333334"
                y="571.8239784365495"
                height="205.93005800125457"
                width="15"
                fill="#2ca02c"
          >
            <title>
              Savings: $3,151
            </title>
          </rect>
        </g>
        <g fill="none"
           stroke-opacity="0.5"
        >
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-0"
                            gradientunits="userSpaceOnUse"
                            x1="489.6666666666667"
                            x2="711.5"
            >
              <stop offset="0%"
                    stop-color="#ff7f0e"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#1f77b4"
              >
              </stop>
            </linearGradient>
            <path d="M489.6666666666667,378.13866633377944C600.5833333333334,378.13866633377944,600.5833333333334,378.8654507005344,711.5,378.8654507005344"
                  stroke="url(#link-0)"
                  stroke-width="720"
            >
            </path>
            <title>
              Income:US  Income: $11,018
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-1"
                            gradientunits="userSpaceOnUse"
                            x1="252.83333333333334"
                            x2="474.6666666666667"
            >
              <stop offset="0%"
                    stop-color="#2ca02c"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#ff7f0e"
              >
              </stop>
            </linearGradient>
            <path d="M252.83333333333334,376.33782346642C363.75,376.33782346642,363.75,377.11942595229294,474.6666666666667,377.11942595229294"
                  stroke="url(#link-1)"
                  stroke-width="717.961519237027"
            >
            </path>
            <title>
              Income:US:Hooli  Income:US: $10,987
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-2"
                            gradientunits="userSpaceOnUse"
                            x1="16"
                            x2="237.83333333333334"
            >
              <stop offset="0%"
                    stop-color="#d62728"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#2ca02c"
              >
              </stop>
            </linearGradient>
            <path d="M16,346.34971255895465C126.91666666666667,346.34971255895465,126.91666666666667,348.3021840604548,237.83333333333334,348.3021840604548"
                  stroke="url(#link-2)"
                  stroke-width="661.8902404250967"
            >
            </path>
            <title>
              Income:US:Hooli:Salary  Income:US:Hooli: $10,129
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-3"
                            gradientunits="userSpaceOnUse"
                            x1="16"
                            x2="237.83333333333334"
            >
              <stop offset="0%"
                    stop-color="#9467bd"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#2ca02c"
              >
              </stop>
            </linearGradient>
            <path d="M16,689.0386946688049C126.91666666666667,689.0386946688049,126.91666666666667,680.9911661703052,237.83333333333334,680.9911661703052"
                  stroke="url(#link-3)"
                  stroke-width="3.4877237946037716"
            >
            </path>
            <title>
              Income:US:Hooli:GroupTermLife  Income:US:Hooli: $53
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-4"
                            gradientunits="userSpaceOnUse"
                            x1="16"
                            x2="237.83333333333334"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#2ca02c"
              >
              </stop>
            </linearGradient>
            <path d="M16,727.0743340747698C126.91666666666667,727.0743340747698,126.91666666666667,709.0268055762702,237.83333333333334,709.0268055762702"
                  stroke="url(#link-4)"
                  stroke-width="52.583555017326596"
            >
            </path>
            <title>
              Income:US:Hooli:Match401k  Income:US:Hooli: $805
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-5"
                            gradientunits="userSpaceOnUse"
                            x1="252.83333333333334"
                            x2="474.6666666666667"
            >
              <stop offset="0%"
                    stop-color="#e377c2"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#ff7f0e"
              >
              </stop>
            </linearGradient>
            <path d="M252.83333333333334,763.960702228461C363.75,763.960702228461,363.75,737.119425952293,474.6666666666667,737.119425952293"
                  stroke="url(#link-5)"
                  stroke-width="2.038480762973127"
            >
            </path>
            <title>
              Income:US:ETrade  Income:US: $31
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-6"
                            gradientunits="userSpaceOnUse"
                            x1="16"
                            x2="237.83333333333334"
            >
              <stop offset="0%"
                    stop-color="#7f7f7f"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#e377c2"
              >
              </stop>
            </linearGradient>
            <path d="M16,764.0586294551325C126.91666666666667,764.0586294551325,126.91666666666667,763.6339797186738,237.83333333333334,763.6339797186738"
                  stroke="url(#link-6)"
                  stroke-width="1.3850357433989615"
            >
            </path>
            <title>
              Income:US:ETrade:PnL  Income:US:ETrade: $21
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-7"
                            gradientunits="userSpaceOnUse"
                            x1="726.5"
                            x2="948.3333333333334"
            >
              <stop offset="0%"
                    stop-color="#1f77b4"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#bcbd22"
              >
              </stop>
            </linearGradient>
            <path d="M726.5,312.8117500594679C837.4166666666667,312.8117500594679,837.4166666666667,318.94629935893363,948.3333333333334,318.94629935893363"
                  stroke="url(#link-7)"
                  stroke-width="13.896399494124399"
            >
            </path>
            <title>
              Income  Expenses:Health: $213
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-8"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#bcbd22"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#17becf"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,317.66851897201263C1074.25,317.66851897201263,1074.25,336.8664310610308,1185.1666666666667,336.8664310610308"
                  stroke="url(#link-8)"
                  stroke-width="3.4877237946037716"
            >
            </path>
            <title>
              Expenses:Health  Expenses:Health:Life:GroupTermLife: $53
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-9"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#bcbd22"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#1f77b4"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,313.9613783432911C1074.25,313.9613783432911,1074.25,323.1592904323092,1185.1666666666667,323.1592904323092"
                  stroke="url(#link-9)"
                  stroke-width="3.926557462839279"
            >
            </path>
            <title>
              Expenses:Health  Expenses:Health:Medical:Insurance: $60
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-10"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#bcbd22"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#ff7f0e"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,322.4454959291776C1074.25,322.4454959291776,1074.25,351.6434080181959,1185.1666666666667,351.6434080181959"
                  stroke="url(#link-10)"
                  stroke-width="6.066230119726132"
            >
            </path>
            <title>
              Expenses:Health  Expenses:Health:Vision:Insurance: $93
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-11"
                            gradientunits="userSpaceOnUse"
                            x1="726.5"
                            x2="948.3333333333334"
            >
              <stop offset="0%"
                    stop-color="#1f77b4"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#2ca02c"
              >
              </stop>
            </linearGradient>
            <path d="M726.5,161.96345655097906C837.4166666666667,161.96345655097906,837.4166666666667,148.09800585044468,948.3333333333334,148.09800585044468"
                  stroke="url(#link-11)"
                  stroke-width="286.19601170088936"
            >
            </path>
            <title>
              Income  Expenses:Taxes: $4,380
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-12"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#2ca02c"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#d62728"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,73.31613954518163C1074.25,73.31613954518163,1074.25,73.31613954518163,1185.1666666666667,73.31613954518163"
                  stroke="url(#link-12)"
                  stroke-width="136.63227909036326"
            >
            </path>
            <title>
              Expenses:Taxes  Expenses:Taxes:Y2020:US: $2,091
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-13"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#d62728"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#9467bd"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,82.42719651657015C1311.0833333333335,82.42719651657015,1311.0833333333335,92.4271965165701,1422,92.4271965165701"
                  stroke="url(#link-13)"
                  stroke-width="7.24279345313774"
            >
            </path>
            <title>
              Expenses:Taxes:Y2020:US  Expenses:Taxes:Y2020:US:Medicare: $111
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-14"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#d62728"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#8c564b"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,41.90289989500063C1311.0833333333335,41.90289989500063,1311.0833333333335,41.90289989500064,1422,41.90289989500064"
                  stroke="url(#link-14)"
                  stroke-width="73.80579979000127"
            >
            </path>
            <title>
              Expenses:Taxes:Y2020:US  Expenses:Taxes:Y2020:US:Federal: $1,129
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-15"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#d62728"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#e377c2"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,99.0552487948554C1311.0833333333335,99.0552487948554,1311.0833333333335,119.05524879485536,1422,119.05524879485536"
                  stroke="url(#link-15)"
                  stroke-width="26.013311103432788"
            >
            </path>
            <title>
              Expenses:Taxes:Y2020:US  Expenses:Taxes:Y2020:US:State: $398
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-16"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#d62728"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#7f7f7f"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,118.00314159485004C1311.0833333333335,118.00314159485004,1311.0833333333335,148.00314159485004,1422,148.00314159485004"
                  stroke="url(#link-16)"
                  stroke-width="11.882474496556496"
            >
            </path>
            <title>
              Expenses:Taxes:Y2020:US  Expenses:Taxes:Y2020:US:CityNYC: $182
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-17"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#d62728"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#bcbd22"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,132.75028765804424C1311.0833333333335,132.75028765804424,1311.0833333333335,252.28114506351963,1422,252.28114506351963"
                  stroke="url(#link-17)"
                  stroke-width="17.611817629831908"
            >
            </path>
            <title>
              Expenses:Taxes:Y2020:US  Expenses:Taxes:Y2020:US:SocSec: $270
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-18"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#2ca02c"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#17becf"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,206.3895560840935C1074.25,206.3895560840935,1074.25,216.38955608409356,1185.1666666666667,216.38955608409356"
                  stroke="url(#link-18)"
                  stroke-width="129.51455398746052"
            >
            </path>
            <title>
              Expenses:Taxes  Expenses:Taxes:Y2021:US: $1,982
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-19"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#17becf"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#1f77b4"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,224.65040741771986C1311.0833333333335,224.65040741771986,1311.0833333333335,274.57432480031673,1422,274.57432480031673"
                  stroke="url(#link-19)"
                  stroke-width="6.9745418437622675"
            >
            </path>
            <title>
              Expenses:Taxes:Y2021:US  Expenses:Taxes:Y2021:US:Medicare: $107
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-20"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#17becf"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#ff7f0e"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,186.397707793101C1311.0833333333335,186.397707793101,1311.0833333333335,198.709807545866,1422,198.709807545866"
                  stroke="url(#link-20)"
                  stroke-width="69.53085740547543"
            >
            </path>
            <title>
              Expenses:Taxes:Y2021:US  Expenses:Taxes:Y2021:US:Federal: $1,064
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-21"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#17becf"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#2ca02c"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,240.07852309818628C1311.0833333333335,240.07852309818628,1311.0833333333335,300.00244048078315,1422,300.00244048078315"
                  stroke="url(#link-21)"
                  stroke-width="23.881689517170596"
            >
            </path>
            <title>
              Expenses:Taxes:Y2021:US  Expenses:Taxes:Y2021:US:State: $365
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-22"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#17becf"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#d62728"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,257.7405592810395C1311.0833333333335,257.7405592810395,1311.0833333333335,327.6644766636364,1422,327.6644766636364"
                  stroke="url(#link-22)"
                  stroke-width="11.442382848535884"
            >
            </path>
            <title>
              Expenses:Taxes:Y2021:US  Expenses:Taxes:Y2021:US:CityNYC: $175
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-23"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#17becf"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#9467bd"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,272.2676595202234C1311.0833333333335,272.2676595202234,1311.0833333333335,383.9616383257798,1422,383.9616383257798"
                  stroke="url(#link-23)"
                  stroke-width="17.611817629831908"
            >
            </path>
            <title>
              Expenses:Taxes:Y2021:US  Expenses:Taxes:Y2021:US:SocSec: $270
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-24"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#2ca02c"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#8c564b"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,281.1714223893566C1074.25,281.1714223893566,1074.25,301.1714223893568,1185.1666666666667,301.1714223893568"
                  stroke="url(#link-24)"
                  stroke-width="20.04917862306565"
            >
            </path>
            <title>
              Expenses:Taxes  Expenses:Taxes:Y2022:US: $307
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-25"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#e377c2"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,291.6833362965749C1311.0833333333335,291.6833362965749,1311.0833333333335,343.92217130665523,1422,343.92217130665523"
                  stroke="url(#link-25)"
                  stroke-width="1.0730064375018873"
            >
            </path>
            <title>
              Expenses:Taxes:Y2022:US  Expenses:Taxes:Y2022:US:Medicare: $16
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-26"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#7f7f7f"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,297.5683670080547C1311.0833333333335,297.5683670080547,1311.0833333333335,359.80720201813506,1422,359.80720201813506"
                  stroke="url(#link-26)"
                  stroke-width="10.69705498545776"
            >
            </path>
            <title>
              Expenses:Taxes:Y2022:US  Expenses:Taxes:Y2022:US:Federal: $164
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-27"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#bcbd22"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,304.75394754056595C1311.0833333333335,304.75394754056595,1311.0833333333335,404.6046001804781,1422,404.6046001804781"
                  stroke="url(#link-27)"
                  stroke-width="3.674106079564707"
            >
            </path>
            <title>
              Expenses:Taxes:Y2022:US  Expenses:Taxes:Y2022:US:State: $56
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-28"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#17becf"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,307.4711838763895C1311.0833333333335,307.4711838763895,1311.0833333333335,417.32183651630174,1422,417.32183651630174"
                  stroke="url(#link-28)"
                  stroke-width="1.7603665920824436"
            >
            </path>
            <title>
              Expenses:Taxes:Y2022:US  Expenses:Taxes:Y2022:US:CityNYC: $27
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-29"
                            gradientunits="userSpaceOnUse"
                            x1="1200.1666666666667"
                            x2="1422"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#1f77b4"
              >
              </stop>
            </linearGradient>
            <path d="M1200.1666666666667,309.7680536872229C1311.0833333333335,309.7680536872229,1311.0833333333335,429.6187063271351,1422,429.6187063271351"
                  stroke="url(#link-29)"
                  stroke-width="2.8333730295843313"
            >
            </path>
            <title>
              Expenses:Taxes:Y2022:US  Expenses:Taxes:Y2022:US:SocSec: $43
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-30"
                            gradientunits="userSpaceOnUse"
                            x1="726.5"
                            x2="948.3333333333334"
            >
              <stop offset="0%"
                    stop-color="#1f77b4"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#ff7f0e"
              >
              </stop>
            </linearGradient>
            <path d="M726.5,339.7552743149955C837.4166666666667,339.7552743149955,837.4166666666667,355.8898236144613,948.3333333333334,355.8898236144613"
                  stroke="url(#link-30)"
                  stroke-width="39.99064901693075"
            >
            </path>
            <title>
              Income  Expenses:Food: $612
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-31"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#ff7f0e"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#2ca02c"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,349.5606631398507C1074.25,349.5606631398507,1074.25,378.34268711191373,1185.1666666666667,378.34268711191373"
                  stroke="url(#link-31)"
                  stroke-width="27.332328067709515"
            >
            </path>
            <title>
              Expenses:Food  Expenses:Food:Restaurant: $418
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-32"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#ff7f0e"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#d62728"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,369.31348688514163C1074.25,369.31348688514163,1074.25,408.0955108572047,1185.1666666666667,408.0955108572047"
                  stroke="url(#link-32)"
                  stroke-width="12.173319422872424"
            >
            </path>
            <title>
              Expenses:Food  Expenses:Food:Groceries: $186
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-33"
                            gradientunits="userSpaceOnUse"
                            x1="726.5"
                            x2="948.3333333333334"
            >
              <stop offset="0%"
                    stop-color="#1f77b4"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#9467bd"
              >
              </stop>
            </linearGradient>
            <path d="M726.5,305.46250635691473C837.4166666666667,305.46250635691473,837.4166666666667,301.59705565638046,948.3333333333334,301.59705565638046"
                  stroke="url(#link-33)"
                  stroke-width="1"
            >
            </path>
            <title>
              Income  Expenses:Financial: $12
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-34"
                            gradientunits="userSpaceOnUse"
                            x1="726.5"
                            x2="948.3333333333334"
            >
              <stop offset="0%"
                    stop-color="#1f77b4"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#8c564b"
              >
              </stop>
            </linearGradient>
            <path d="M726.5,441.58783217367915C837.4166666666667,441.58783217367915,837.4166666666667,467.7223814731448,948.3333333333334,467.7223814731448"
                  stroke="url(#link-34)"
                  stroke-width="163.67446670043648"
            >
            </path>
            <title>
              Income  Expenses:Housing: $2,505
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-35"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#e377c2"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,461.36393522913704C1074.25,461.36393522913704,1074.25,499.6609576748514,1185.1666666666667,499.6609576748514"
                  stroke="url(#link-35)"
                  stroke-width="150.95757421242087"
            >
            </path>
            <title>
              Expenses:Housing  Expenses:Housing:Rent: $2,310
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-36"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#7f7f7f"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,538.8869394861406C1074.25,538.8869394861406,1074.25,587.1839619318553,1185.1666666666667,587.1839619318553"
                  stroke="url(#link-36)"
                  stroke-width="4.088434301586398"
            >
            </path>
            <title>
              Expenses:Housing  Expenses:Housing:Electricity: $63
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-37"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#bcbd22"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,542.729790974079C1074.25,542.729790974079,1074.25,601.0268134197933,1185.1666666666667,601.0268134197933"
                  stroke="url(#link-37)"
                  stroke-width="3.597268674290585"
            >
            </path>
            <title>
              Expenses:Housing  Expenses:Housing:Phone: $55
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-38"
                            gradientunits="userSpaceOnUse"
                            x1="963.3333333333334"
                            x2="1185.1666666666667"
            >
              <stop offset="0%"
                    stop-color="#8c564b"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#17becf"
              >
              </stop>
            </linearGradient>
            <path d="M963.3333333333334,547.0440200672938C1074.25,547.0440200672938,1074.25,615.3410425130081,1185.1666666666667,615.3410425130081"
                  stroke="url(#link-38)"
                  stroke-width="5.031189512138669"
            >
            </path>
            <title>
              Expenses:Housing  Expenses:Housing:Internet: $77
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-39"
                            gradientunits="userSpaceOnUse"
                            x1="726.5"
                            x2="948.3333333333334"
            >
              <stop offset="0%"
                    stop-color="#1f77b4"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#1f77b4"
              >
              </stop>
            </linearGradient>
            <path d="M726.5,735.2424689194364C837.4166666666667,735.2424689194364,837.4166666666667,791.3770182189022,948.3333333333334,791.3770182189022"
                  stroke="url(#link-39)"
                  stroke-width="7.2459635621962"
            >
            </path>
            <title>
              Income  Expenses:Transport:Tram: $111
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-40"
                            gradientunits="userSpaceOnUse"
                            x1="726.5"
                            x2="948.3333333333334"
            >
              <stop offset="0%"
                    stop-color="#1f77b4"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#ff7f0e"
              >
              </stop>
            </linearGradient>
            <path d="M726.5,524.5572473304906C837.4166666666667,524.5572473304906,837.4166666666667,560.6917966299563,948.3333333333334,560.6917966299563"
                  stroke="url(#link-40)"
                  stroke-width="2.2643636131863127"
            >
            </path>
            <title>
              Income  Expenses:Shopping:Electronics: $35
            </title>
          </g>
          <g style="mix-blend-mode: multiply;">
            <linearGradient id="link-41"
                            gradientunits="userSpaceOnUse"
                            x1="726.5"
                            x2="948.3333333333334"
            >
              <stop offset="0%"
                    stop-color="#1f77b4"
              >
              </stop>
              <stop offset="100%"
                    stop-color="#2ca02c"
              >
              </stop>
            </linearGradient>
            <path d="M726.5,628.654458137711C837.4166666666667,628.654458137711,837.4166666666667,674.7890074371768,948.3333333333334,674.7890074371768"
                  stroke="url(#link-41)"
                  stroke-width="205.93005800125454"
            >
            </path>
            <title>
              Income  Savings: $3,151
            </title>
          </g>
        </g>
        <g font-family="sans-serif"
           font-size="10"
        >
          <text x="732.5"
                y="378.8654507005344"
                dy="0.35em"
                text-anchor="start"
          >
            Income $11,018
          </text>
          <text x="495.6666666666667"
                y="378.1386663337794"
                dy="0.35em"
                text-anchor="start"
          >
            US $11,018
          </text>
          <text x="258.83333333333337"
                y="376.3378234664199"
                dy="0.35em"
                text-anchor="start"
          >
            Hooli $10,987
          </text>
          <text x="22"
                y="346.3497125589546"
                dy="0.35em"
                text-anchor="start"
          >
            Salary $10,129
          </text>
          <text x="22"
                y="689.0386946688047"
                dy="0.35em"
                text-anchor="start"
          >
            GroupTermLife $53
          </text>
          <text x="22"
                y="727.0743340747698"
                dy="0.35em"
                text-anchor="start"
          >
            Match401k $805
          </text>
          <text x="258.83333333333337"
                y="763.9607022284608"
                dy="0.35em"
                text-anchor="start"
          >
            ETrade $31
          </text>
          <text x="22"
                y="764.0586294551325"
                dy="0.35em"
                text-anchor="start"
          >
            PnL $21
          </text>
          <text x="942.3333333333334"
                y="318.9462993589337"
                dy="0.35em"
                text-anchor="end"
          >
            Health $213
          </text>
          <text x="1179.1666666666667"
                y="336.8664310610309"
                dy="0.35em"
                text-anchor="end"
          >
            Life:GroupTermLife $53
          </text>
          <text x="1179.1666666666667"
                y="323.15929043230926"
                dy="0.35em"
                text-anchor="end"
          >
            Medical:Insurance $60
          </text>
          <text x="1179.1666666666667"
                y="351.6434080181959"
                dy="0.35em"
                text-anchor="end"
          >
            Vision:Insurance $93
          </text>
          <text x="942.3333333333334"
                y="148.09800585044474"
                dy="0.35em"
                text-anchor="end"
          >
            Taxes $4,380
          </text>
          <text x="1179.1666666666667"
                y="73.31613954518164"
                dy="0.35em"
                text-anchor="end"
          >
            Y2020:US $2,091
          </text>
          <text x="1416"
                y="92.42719651657009"
                dy="0.35em"
                text-anchor="end"
          >
            Medicare $111
          </text>
          <text x="1416"
                y="41.902899895000616"
                dy="0.35em"
                text-anchor="end"
          >
            Federal $1,129
          </text>
          <text x="1416"
                y="119.05524879485537"
                dy="0.35em"
                text-anchor="end"
          >
            State $398
          </text>
          <text x="1416"
                y="148.00314159485004"
                dy="0.35em"
                text-anchor="end"
          >
            CityNYC $182
          </text>
          <text x="1416"
                y="252.28114506351963"
                dy="0.35em"
                text-anchor="end"
          >
            SocSec $270
          </text>
          <text x="1179.1666666666667"
                y="216.3895560840936"
                dy="0.35em"
                text-anchor="end"
          >
            Y2021:US $1,982
          </text>
          <text x="1416"
                y="274.57432480031673"
                dy="0.35em"
                text-anchor="end"
          >
            Medicare $107
          </text>
          <text x="1416"
                y="198.70980754586597"
                dy="0.35em"
                text-anchor="end"
          >
            Federal $1,064
          </text>
          <text x="1416"
                y="300.00244048078315"
                dy="0.35em"
                text-anchor="end"
          >
            State $365
          </text>
          <text x="1416"
                y="327.6644766636364"
                dy="0.35em"
                text-anchor="end"
          >
            CityNYC $175
          </text>
          <text x="1416"
                y="383.9616383257798"
                dy="0.35em"
                text-anchor="end"
          >
            SocSec $270
          </text>
          <text x="1179.1666666666667"
                y="301.17142238935674"
                dy="0.35em"
                text-anchor="end"
          >
            Y2022:US $307
          </text>
          <text x="1416"
                y="343.92217130665523"
                dy="0.35em"
                text-anchor="end"
          >
            Medicare $16
          </text>
          <text x="1416"
                y="359.80720201813506"
                dy="0.35em"
                text-anchor="end"
          >
            Federal $164
          </text>
          <text x="1416"
                y="404.60460018047814"
                dy="0.35em"
                text-anchor="end"
          >
            State $56
          </text>
          <text x="1416"
                y="417.32183651630174"
                dy="0.35em"
                text-anchor="end"
          >
            CityNYC $27
          </text>
          <text x="1416"
                y="429.61870632713516"
                dy="0.35em"
                text-anchor="end"
          >
            SocSec $43
          </text>
          <text x="942.3333333333334"
                y="355.88982361446125"
                dy="0.35em"
                text-anchor="end"
          >
            Food $612
          </text>
          <text x="1179.1666666666667"
                y="378.34268711191373"
                dy="0.35em"
                text-anchor="end"
          >
            Restaurant $418
          </text>
          <text x="1179.1666666666667"
                y="408.0955108572047"
                dy="0.35em"
                text-anchor="end"
          >
            Groceries $186
          </text>
          <text x="942.3333333333334"
                y="301.59705565638046"
                dy="0.35em"
                text-anchor="end"
          >
            Financial $12
          </text>
          <text x="942.3333333333334"
                y="467.7223814731449"
                dy="0.35em"
                text-anchor="end"
          >
            Housing $2,505
          </text>
          <text x="1179.1666666666667"
                y="499.6609576748515"
                dy="0.35em"
                text-anchor="end"
          >
            Rent $2,310
          </text>
          <text x="1179.1666666666667"
                y="587.183961931855"
                dy="0.35em"
                text-anchor="end"
          >
            Electricity $63
          </text>
          <text x="1179.1666666666667"
                y="601.0268134197934"
                dy="0.35em"
                text-anchor="end"
          >
            Phone $55
          </text>
          <text x="1179.1666666666667"
                y="615.341042513008"
                dy="0.35em"
                text-anchor="end"
          >
            Internet $77
          </text>
          <text x="942.3333333333334"
                y="791.3770182189021"
                dy="0.35em"
                text-anchor="end"
          >
            Transport:Tram $111
          </text>
          <text x="942.3333333333334"
                y="560.6917966299563"
                dy="0.35em"
                text-anchor="end"
          >
            Shopping:Electronics $35
          </text>
          <text x="942.3333333333334"
                y="674.7890074371768"
                dy="0.35em"
                text-anchor="end"
          >
            Savings $3,151
          </text>
        </g>
      </svg>
    </div>
  </div>
</div>
<script type="application/json"
        id="page-title"
>
  "Dashboards"
</script>
`;

exports[`Dashboard: HTML Snapshot Tests Travelling 1`] = `
<style type="text/css">
  #dashboard {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}
#dashboard .panel {
    padding: 20px;
    min-width: 300px;
}
#dashboard .panel h2 {
    text-align: center;
}

/* set panel min-width to 100% on screens
  < 802px (navbar + padding + 2*300px) */
@media (max-width: 802px) {
    #dashboard .panel {
        min-width: 100%;
    }
}
</style>
<script id="favaDashboardsBootstrap"
        type="application/json"
>
  {
  "dashboardId": 3,
  "dashboards": [
    {
      "name": "Overview",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Assets:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ?? 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Assets \\ud83d\\udcb0",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Liabilities:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst value = panel.queries[0].result[0].value[ledger.ccy];\\nconst valueFmt = currencyFormat.format(value ? -value : 0);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${valueFmt}\\u003c/div\\u003e\`;\\n",
          "title": "Liabilities \\ud83d\\udcb3",
          "type": "html",
          "width": "50%"
        },
        {
          "height": "520px",
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Income/?time={time}",
              "name": "Income",
              "stack": "income"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Income/Expenses \\ud83d\\udcb8",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Assets",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n",
              "link": "/beancount/account/{account}/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nconst data = panel.queries[0].result\\n  .filter((row) =\\u003e row.market_value[ledger.ccy])\\n  .map((row) =\\u003e ({ name: Object.keys(row.units)[0], value: row.market_value[ledger.ccy] }));\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${\\n        ledger.commodities[params.name]?.meta.name ?? params.name\\n      } \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${params.percent.toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"pie\\",\\n      data,\\n    },\\n  ],\\n};\\n",
          "title": "Assets \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/balance_sheet/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Net Worth \\ud83d\\udcb0",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = {\\n    market_value: row.market_value[ledger.ccy],\\n    book_value: row.book_value[ledger.ccy],\\n  };\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      name: \\"Market Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.market_value),\\n    },\\n    {\\n      type: \\"line\\",\\n      name: \\"Book Value\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]?.book_value),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    if (!panel.queries[0].link) return;\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Portfolio \\ud83d\\udcc8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month,\\nCONVERT(LAST(balance),       \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS market_value,\\nCONVERT(COST(LAST(balance)), \\u0027{{ledger.ccy}}\\u0027, DATE_ADD(YMONTH(DATE_ADD(YMONTH(FIRST(date)), 31)), -1)) AS book_value\\nWHERE account ~ \\u0027^Assets:\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY year, month\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.market_value[ledger.ccy] - row.book_value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      connectNulls: true,\\n      data: months.map((month) =\\u003e amounts[month]),\\n    },\\n  ],\\n};\\n",
          "title": "Portfolio Gains \\u2728",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Asset Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst assetClasses = {};\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const value = row.market_value[ledger.ccy];\\n  const assetName = ledger.commodities[ccy]?.meta.name ?? ccy;\\n  const assetClass = ledger.commodities[ccy]?.meta.asset_class ?? \\"undefined\\";\\n  if (!(assetClass in assetClasses)) {\\n    assetClasses[assetClass] = { name: assetClass, children: [] };\\n  }\\n  assetClasses[assetClass].children.push({ name: assetName, value });\\n  totalValue += value;\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        show: false,\\n      },\\n      data: Object.values(assetClasses),\\n    },\\n  ],\\n};\\n",
          "title": "Investment Classes \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Assets Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT UNITS(SUM(position)) as units, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) as market_value\\nWHERE account_sortkey(account) ~ \\u0027^[01]\\u0027 AND currency != \\u0027{{ledger.ccy}}\\u0027\\nGROUP BY currency, cost_currency\\nORDER BY market_value\\n"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\n\\nlet totalValue = 0;\\nconst root = { children: [] };\\nfor (let row of panel.queries[0].result) {\\n  if (!row.market_value[ledger.ccy]) continue;\\n\\n  const ccy = Object.keys(row.units)[0];\\n  const allocations = Object.entries(ledger.commodities[ccy]?.meta ?? {}).filter(([k, v]) =\\u003e\\n    k.startsWith(\\"asset_allocation_\\"),\\n  );\\n  if (allocations.length === 0) {\\n    allocations.push([\\"asset_allocation_Unknown\\", 100]);\\n  }\\n\\n  for (let [allocation, percentage] of allocations) {\\n    const parts = allocation.substr(\\"asset_allocation_\\".length).split(\\"_\\");\\n    let node = root;\\n    for (const part of parts) {\\n      let child = node.children.find((c) =\\u003e c.name == part);\\n      if (!child) {\\n        child = { name: part, children: [] };\\n        node.children.push(child);\\n      }\\n      node = child;\\n    }\\n\\n    const value = (percentage / 100) * row.market_value[ledger.ccy];\\n    node.value = (node.value ?? 0) + value;\\n    totalValue += value;\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e\\n      \`\${params.marker} \${params.name} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e (\${((params.value / totalValue) * 100).toFixed(0)}%)\`,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        rotate: \\"tangential\\",\\n        minAngle: 20,\\n      },\\n      labelLayout: {\\n        hideOverlap: true,\\n      },\\n      data: root.children,\\n    },\\n  ],\\n};\\n",
          "title": "Investments Allocation \\ud83c\\udfe6",
          "type": "echarts",
          "width": "50%"
        }
      ]
    },
    {
      "name": "Income and Expenses",
      "panels": [
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(-panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Income per Month \\ud83d\\udcb0",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst value = currencyFormat.format(panel.queries[0].result[0].value[ledger.ccy] / months);\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #af3d3d; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Expenses per Month \\ud83d\\udcb8",
          "type": "html",
          "width": "33.3%"
        },
        {
          "height": "80px",
          "queries": [
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Income:\\u0027"
            },
            {
              "bql": "SELECT CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value WHERE account ~ \\u0027^Expenses:\\u0027"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst percentFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"percent\\",\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst months = days / (365 / 12);\\nconst income = -panel.queries[0].result[0].value[ledger.ccy];\\nconst expenses = panel.queries[1].result[0].value[ledger.ccy];\\nconst rate = (income - expenses) / months;\\nconst ratePercent = 1 - expenses / income;\\nconst value = \`\${currencyFormat.format(rate)} (\${percentFormat.format(ratePercent)})\`;\\nreturn \`\\u003cdiv style=\\"font-size: 40px; font-weight: bold; color: #3daf46; text-align: center;\\"\\u003e\${value}\\u003c/div\\u003e\`;\\n",
          "title": "Avg. Savings per Month \\u2728",
          "type": "html",
          "width": "33.3%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 4) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Income:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e -row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Income\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Income Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT root(account, 3) AS account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/changes/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12);\\nconst accountTree = helpers.buildAccountTree(\\n  panel.queries[0].result,\\n  (row) =\\u003e row.value[ledger.ccy] / divisor,\\n  (parts, i) =\\u003e parts[i],\\n);\\n// use click event on desktop, dblclick on mobile\\nconst clickEvt = window.screen.width \\u003c 800 ? \\"onDblClick\\" : \\"onClick\\";\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  series: [\\n    {\\n      type: \\"sunburst\\",\\n      radius: \\"100%\\",\\n      label: {\\n        minAngle: 20,\\n      },\\n      nodeClick: false,\\n      data: accountTree.children[0].children,\\n    },\\n  ],\\n  [clickEvt]: (event) =\\u003e {\\n    const account = \\"Expenses\\" + event.treePathInfo.map((i) =\\u003e i.name).join(\\":\\");\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", account).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Expenses Categories (per month) \\ud83d\\udcb8",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#recurring\\u0026time={time}",
              "name": "Recurring",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT \\u0027recurring\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=-#recurring\\u0026time={time}",
              "name": "Irregular",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] =\\n      query.stack == \\"income\\" ? -row.value[ledger.ccy] : row.value[ledger.ccy];\\n  }\\n}\\n\\nconst series = panel.queries.map((query) =\\u003e ({\\n  type: \\"bar\\",\\n  name: query.name,\\n  stack: query.stack,\\n  data: months.map((month) =\\u003e amounts[query.name][month] ?? 0),\\n}));\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const [month, year] = event.name.split(\\"/\\");\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Recurring Expenses \\ud83d\\udd01",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = helpers.iterateMonths(ledger.dateFirst, ledger.dateLast).map((m) =\\u003e \`\${m.month}/\${m.year}\`);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nfor (let row of panel.queries[0].result) {\\n  amounts[\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: months.map((month) =\\u003e amounts[month] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const [month, year] = event.name.split(\\"/\\");\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.padStart(2, \\"0\\")}\`);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Food Expenses \\ud83e\\udd50",
          "type": "echarts",
          "width": "50%"
        },
        {
          "queries": [
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Housing:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Housing/?filter=-#travel\\u0026time={time}",
              "name": "Housing",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Food:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Food/?filter=-#travel\\u0026time={time}",
              "name": "Food",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:Shopping:\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses:Shopping/?filter=-#travel\\u0026time={time}",
              "name": "Shopping",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "name": "Travel",
              "stack": "expenses"
            },
            {
              "bql": "SELECT year, month, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND NOT account ~ \\u0027^Expenses:(Housing|Food|Shopping):\\u0027 AND NOT \\u0027travel\\u0027 IN tags\\nGROUP BY year, month\\n",
              "link": "/beancount/account/Expenses/?filter=all(-account:\\"^Expenses:(Housing|Food|Shopping)\\") -#travel\\u0026time={time}",
              "name": "Other",
              "stack": "expenses"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst months = [\\n  \\"January\\",\\n  \\"February\\",\\n  \\"March\\",\\n  \\"April\\",\\n  \\"Mai\\",\\n  \\"June\\",\\n  \\"July\\",\\n  \\"August\\",\\n  \\"September\\",\\n  \\"Oktober\\",\\n  \\"November\\",\\n  \\"December\\",\\n];\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by month\\nconst amounts = {};\\nfor (let query of panel.queries) {\\n  amounts[query.name] = {};\\n  for (let row of query.result) {\\n    amounts[query.name][\`\${row.month}/\${row.year}\`] = row.value[ledger.ccy];\\n  }\\n}\\n\\nlet series = [];\\nfor (let query of panel.queries) {\\n  for (let year of years) {\\n    series.push({\\n      type: \\"bar\\",\\n      name: query.name,\\n      stack: year,\\n      blub: 5,\\n      data: months.map((_, i) =\\u003e amounts[query.name][\`\${i + 1}/\${year}\`] ?? 0),\\n    });\\n  }\\n}\\n\\nreturn {\\n  tooltip: {\\n    formatter: (params) =\\u003e {\\n      const month = params.dataIndex + 1;\\n      const stackIdx = params.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      return \`\${params.seriesName}\\u003cbr\\u003e\${\\n        params.marker\\n      } \${month}/\${year} \\u003cspan style=\\"padding-left: 15px; font-weight: bold;\\"\\u003e\${currencyFormat.format(\\n        params.value,\\n      )}\\u003c/span\\u003e\`;\\n    },\\n  },\\n  legend: {\\n    top: \\"bottom\\",\\n  },\\n  xAxis: {\\n    data: months,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series,\\n  onClick: (event) =\\u003e {\\n    const query = panel.queries.find((q) =\\u003e q.name === event.seriesName);\\n    if (query) {\\n      const month = event.dataIndex + 1;\\n      const stackIdx = event.seriesIndex % years.length;\\n      const year = years[stackIdx];\\n      const link = query.link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", \`\${year}-\${month.toString().padStart(2, \\"0\\")}\`);\\n      window.open(link);\\n    }\\n  },\\n};\\n",
          "title": "Expenses Year-Over-Year \\ud83d\\udcb8",
          "type": "echarts"
        },
        {
          "queries": [
            {
              "bql": "SELECT date, payee, narration, position WHERE account ~ \\"^Expenses:\\" ORDER BY position DESC LIMIT 10"
            }
          ],
          "template": "{% import \\"_query_table.html\\" as querytable %}\\n{{ querytable.querytable(favaledger, None, panel.queries[0].result_types, panel.queries[0].result) }}\\n",
          "title": "Top 10 biggest expenses",
          "type": "jinja2"
        }
      ]
    },
    {
      "name": "Travelling",
      "panels": [
        {
          "queries": [
            {
              "bql": "SELECT year, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027, LAST(date)) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nGROUP BY year\\n",
              "link": "/beancount/account/Expenses/?filter=#travel\\u0026time={time}",
              "result": [
                {
                  "value": {
                    "USD": 1007.75
                  },
                  "year": 2020
                },
                {
                  "value": {
                    "USD": 1491.61
                  },
                  "year": 2021
                },
                {
                  "value": {
                    "USD": 120.83
                  },
                  "year": 2022
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst years = helpers.iterateYears(ledger.dateFirst, ledger.dateLast);\\nconst amounts = {};\\n\\n// the beancount query only returns months where there was at least one matching transaction, therefore we group by year\\nfor (let row of panel.queries[0].result) {\\n  amounts[row.year] = row.value[ledger.ccy];\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  xAxis: {\\n    data: years,\\n  },\\n  yAxis: {\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  series: [\\n    {\\n      type: \\"line\\",\\n      smooth: true,\\n      data: years.map((year) =\\u003e amounts[year] ?? 0),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{time}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Travel Costs per Year \\ud83d\\udcc5",
          "type": "echarts"
        },
        {
          "height": "300px",
          "queries": [
            {
              "bql": "SELECT tags, CONVERT(position, \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^Expenses:\\u0027 AND \\u0027travel\\u0027 IN tags\\nORDER BY date, tags\\n",
              "link": "/beancount/account/Expenses/?filter=#{travel}",
              "result": [
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 74.96
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 68.70
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 52.03
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 16.48
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 58.99
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.15
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 18.61
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 25.21
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.28
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 69.03
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 17.76
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 31.63
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 31.55
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.00
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 52.67
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 4.92
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 72.30
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 21.09
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 38.14
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 19.30
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 47.86
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 5.93
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 32.61
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 70.01
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 37.90
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 5.98
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 64.31
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 17.70
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 21.24
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 5.88
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2020",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.53
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 41.06
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 25.08
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 49.28
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 24.10
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 21.72
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.46
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 25.66
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 21.51
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 14.37
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 5.90
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 11.59
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 13.13
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 37.80
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 15.23
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 21.15
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 53.92
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 17.63
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 59.83
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 52.71
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 56.60
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 51.19
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 36.13
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 18.58
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 5.87
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 86.48
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 21.38
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 24.69
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 18.72
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.28
                  }
                },
                {
                  "tags": [
                    "trip-san-francisco-2021",
                    "travel"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 25.34
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 36.34
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.61
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 23.32
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 40.92
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 9.01
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 45.38
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 14.39
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 51.26
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.83
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 24.16
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 41.66
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 25.14
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 47.14
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 32.84
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.57
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 28.27
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 23.98
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.90
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 22.80
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 39.42
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 10.69
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 5.87
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 28.67
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 37.75
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.30
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 27.57
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 43.21
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 43.82
                  }
                },
                {
                  "tags": [
                    "travel",
                    "trip-chicago-2021"
                  ],
                  "value": {
                    "currency": "USD",
                    "number": 6.23
                  }
                }
              ]
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst travels = [];\\nconst amounts = {};\\n\\nfor (let row of panel.queries[0].result) {\\n  const tag = row.tags.find((tag) =\\u003e tag.match(/\\\\-\\\\d{4}/));\\n  if (!(tag in amounts)) {\\n    travels.unshift(tag);\\n    amounts[tag] = 0;\\n  }\\n  amounts[tag] += row.value.number;\\n}\\n\\nreturn {\\n  tooltip: {\\n    valueFormatter: currencyFormat.format,\\n  },\\n  grid: {\\n    left: \\"150px\\",\\n  },\\n  xAxis: {\\n    type: \\"value\\",\\n    axisLabel: {\\n      formatter: currencyFormat.format,\\n    },\\n  },\\n  yAxis: {\\n    type: \\"category\\",\\n    data: travels,\\n  },\\n  series: [\\n    {\\n      type: \\"bar\\",\\n      data: travels.map((travel) =\\u003e amounts[travel]),\\n    },\\n  ],\\n  onClick: (event) =\\u003e {\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{travel}\\", event.name);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Destinations \\u2708\\ufe0f",
          "type": "echarts"
        }
      ]
    },
    {
      "name": "Sankey",
      "panels": [
        {
          "height": "800px",
          "queries": [
            {
              "bql": "SELECT account, CONVERT(SUM(position), \\u0027{{ledger.ccy}}\\u0027) AS value\\nWHERE account ~ \\u0027^(Income|Expenses):\\u0027\\nGROUP BY account\\n",
              "link": "/beancount/account/{account}/?time={time}"
            }
          ],
          "script": "const currencyFormat = new Intl.NumberFormat(undefined, {\\n  style: \\"currency\\",\\n  currency: ledger.ccy,\\n  maximumFractionDigits: 0,\\n});\\nconst days = (new Date(ledger.dateLast) - new Date(ledger.dateFirst)) / (1000 * 60 * 60 * 24) + 1;\\nconst divisor = days / (365 / 12); // monthly\\nconst valueThreshold = 10; // skip nodes below this value\\n\\nconst nodes = [{ name: \\"Income\\" }];\\nconst links = [];\\nfunction addNode(root) {\\n  for (let node of root.children) {\\n    let label = node.name.split(\\":\\").pop();\\n\\n    // skip over pass-through accounts\\n    while (node.children.length === 1) {\\n      node = node.children[0];\\n      label += \\":\\" + node.name.split(\\":\\").pop();\\n    }\\n\\n    // skip nodes below the threshold\\n    if (Math.abs(node.value / divisor) \\u003c valueThreshold) continue;\\n\\n    nodes.push({ name: node.name, label });\\n    if (node.name.startsWith(\\"Income\\")) {\\n      links.push({ source: node.name, target: root.name, value: -node.value / divisor });\\n    } else {\\n      links.push({\\n        source: root.name == \\"Expenses\\" ? \\"Income\\" : root.name,\\n        target: node.name,\\n        value: node.value / divisor,\\n      });\\n    }\\n    addNode(node);\\n  }\\n}\\n\\nconst accountTree = helpers.buildAccountTree(panel.queries[0].result, (row) =\\u003e row.value[ledger.ccy]);\\naddNode(accountTree.children[0]);\\naddNode(accountTree.children[1]);\\n\\nconst savings =\\n  accountTree.children[0].name === \\"Income\\"\\n    ? -accountTree.children[0].value - accountTree.children[1].value\\n    : -accountTree.children[1].value - accountTree.children[0].value;\\nif (savings \\u003e 0) {\\n  nodes.push({ name: \\"Savings\\" });\\n  links.push({ source: \\"Income\\", target: \\"Savings\\", value: savings / divisor });\\n}\\n\\nreturn {\\n  align: \\"left\\",\\n  valueFormatter: currencyFormat.format,\\n  data: {\\n    nodes,\\n    links,\\n  },\\n  onClick: (event, node) =\\u003e {\\n    if (node.name === \\"Savings\\") return;\\n    const time = new URLSearchParams(window.location.search).get(\\"time\\") ?? \\"\\";\\n    const link = panel.queries[0].link.replaceAll(\\"#\\", \\"%23\\").replace(\\"{account}\\", node.name).replace(\\"{time}\\", time);\\n    window.open(link);\\n  },\\n};\\n",
          "title": "Sankey (per month) \\ud83d\\udcb8",
          "type": "d3_sankey"
        }
      ]
    }
  ],
  "ledger": {
    "ccy": "USD",
    "commodities": {
      "GLD": {
        "currency": "GLD",
        "date": "2004-11-01",
        "meta": {
          "asset_allocation_Commodity_Gold": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:GLD",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 52,
          "name": "SPDR Gold Trust (ETF)",
          "price": "USD:google/NYSEARCA:GLD"
        }
      },
      "ITOT": {
        "currency": "ITOT",
        "date": "2004-01-20",
        "meta": {
          "asset_allocation_Equity_Market_NonUS": 1,
          "asset_allocation_Equity_Market_US": 99,
          "asset_class": "ETF",
          "export": "NYSEARCA:ITOT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 37,
          "name": "iShares Core S\\u0026P Total U.S. Stock Market ETF",
          "price": "USD:google/NYSEARCA:ITOT"
        }
      },
      "RGAGX": {
        "currency": "RGAGX",
        "date": "2009-05-01",
        "meta": {
          "asset_allocation_Bond_Cash": 10,
          "asset_allocation_Equity_Market_NonUS": 11,
          "asset_allocation_Equity_Market_US": 79,
          "asset_class": "Fund",
          "export": "MUTF:RGAGX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 66,
          "name": "American Funds The Growth Fund of America Class R-6",
          "price": "USD:google/MUTF:RGAGX"
        }
      },
      "USD": {
        "currency": "USD",
        "date": "1792-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 100,
          "asset_class": "Cash",
          "export": "CASH",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 16,
          "name": "US Dollar"
        }
      },
      "VBMPX": {
        "currency": "VBMPX",
        "date": "1995-09-18",
        "meta": {
          "asset_allocation_Bond_NonUS": 9,
          "asset_allocation_Bond_US": 91,
          "asset_class": "Fund",
          "export": "MUTF:VBMPX",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 29,
          "name": "Vanguard Total Bond Market Index Fund Institutional Plus Shares",
          "price": "USD:google/MUTF:VBMPX"
        }
      },
      "VEA": {
        "currency": "VEA",
        "date": "2007-07-20",
        "meta": {
          "asset_allocation_Equity_Market_DevelopedWorld": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VEA",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 59,
          "name": "Vanguard FTSE Developed Markets ETF",
          "price": "USD:google/NYSEARCA:VEA"
        }
      },
      "VHT": {
        "currency": "VHT",
        "date": "2004-01-26",
        "meta": {
          "asset_allocation_Equity_Sector_Health": 100,
          "asset_class": "ETF",
          "export": "NYSEARCA:VHT",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 45,
          "name": "Vanguard Health Care ETF",
          "price": "USD:google/NYSEARCA:VHT"
        }
      },
      "VMMXX": {
        "currency": "VMMXX",
        "date": "1900-01-01",
        "meta": {
          "asset_allocation_Bond_Cash": 82,
          "asset_allocation_Bond_US": 18,
          "asset_class": "Fund",
          "export": "MUTF:VMMXX (MONEY:USD)",
          "filename": "/Users/andreas/repositories/fava-dashboards/example/example.beancount",
          "lineno": 22,
          "name": "Vanguard Cash Reserves Federal Money Market Fund"
        }
      }
    },
    "dateFirst": "2020-01-01",
    "dateLast": "2022-02-28",
    "operatingCurrencies": [
      "USD"
    ]
  }
}
</script>
<div class="headerline">
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=0">
      Overview
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=1">
      Assets
    </a>
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=2">
      Income and Expenses
    </a>
  </h3>
  <h3>
    Travelling
  </h3>
  <h3>
    <a href="/beancount/extension/FavaDashboards/?dashboard=4">
      Sankey
    </a>
  </h3>
</div>
<div id="dashboard">
  <div class="panel"
       style="width: 100%"
  >
    <h2>
      Travel Costs per Year 
    </h2>
    <div id="panel0"
         style="height: 400px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 1438px; height: 400px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="1438"
             height="400"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="1438"
                height="400"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M143.8 330.5L1294.2 330.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 276.5L1294.2 276.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 222.5L1294.2 222.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 168.5L1294.2 168.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 114.5L1294.2 114.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 60.5L1294.2 60.5"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M143.8 330.5L1294.2 330.5"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M144.5 330L144.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M527.5 330L527.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M910.5 330L910.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M1294.5 330L1294.5 335"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 330)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 276)"
                  fill="#6E7079"
            >
              $300
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 222)"
                  fill="#6E7079"
            >
              $600
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 168)"
                  fill="#6E7079"
            >
              $900
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 114)"
                  fill="#6E7079"
            >
              $1,200
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(135.8 60)"
                  fill="#6E7079"
            >
              $1,500
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(335.5333 338)"
                  fill="#6E7079"
            >
              2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(719 338)"
                  fill="#6E7079"
            >
              2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1102.4667 338)"
                  fill="#6E7079"
            >
              2022
            </text>
            <g clip-path="url(#zr0-c0)">
              <path d="M335.5333 148.605C335.5333 148.605 541.4358 61.5102 719 61.5102C924.9024 61.5102 1102.4667 308.2506 1102.4667 308.2506"
                    fill="none"
                    stroke="#5470c6"
                    stroke-width="2"
                    stroke-linejoin="bevel"
              >
              </path>
            </g>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,335.5333,148.605)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,719,61.5102)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
            <path d="M1 0A1 1 0 1 1 1 -0.0001"
                  transform="matrix(2,0,0,2,1102.4667,308.2506)"
                  fill="#fff"
                  stroke="#5470c6"
            >
            </path>
          </g>
          <defs>
            <clipPath id="zr0-c0">
              <path d="M142 59l1152 0l0 272l-1152 0Z"
                    fill="#000"
              >
              </path>
            </clipPath>
          </defs>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
  <div class="panel"
       style="width: 100%"
  >
    <h2>
      Destinations 
    </h2>
    <div id="panel1"
         style="height: 300px; position: relative;"
    >
      <div style="position: relative; overflow: hidden; width: 1438px; height: 300px;">
        <svg xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             version="1.1"
             baseprofile="full"
             width="1438"
             height="300"
             style="position:absolute;left:0;top:0;user-select:none"
        >
          <rect width="1438"
                height="300"
                x="0"
                y="0"
                id="0"
                fill="none"
          >
          </rect>
          <g>
            <path d="M150.5 60L150.5 230"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M340.5 60L340.5 230"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M531.5 60L531.5 230"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M722.5 60L722.5 230"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M913.5 60L913.5 230"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M1103.5 60L1103.5 230"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M1294.5 60L1294.5 230"
                  fill="none"
                  stroke="#E0E6F1"
            >
            </path>
            <path d="M150.5 230L150.5 60"
                  fill="none"
                  stroke="#6E7079"
                  stroke-linecap="round"
            >
            </path>
            <path d="M150 230.5L145 230.5"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M150 173.5L145 173.5"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M150 116.5L145 116.5"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <path d="M150 60.5L145 60.5"
                  fill="none"
                  stroke="#6E7079"
            >
            </path>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(142 201.6667)"
                  fill="#6E7079"
            >
              trip-san-francisco-2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(142 145)"
                  fill="#6E7079"
            >
              trip-chicago-2021
            </text>
            <text dominant-baseline="central"
                  text-anchor="end"
                  style="font-size:12px;font-family:sans-serif;"
                  transform="translate(142 88.3333)"
                  fill="#6E7079"
            >
              trip-san-francisco-2020
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(150 238)"
                  fill="#6E7079"
            >
              $0
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(340.7 238)"
                  fill="#6E7079"
            >
              $200
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(531.4 238)"
                  fill="#6E7079"
            >
              $400
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(722.1 238)"
                  fill="#6E7079"
            >
              $600
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(912.8 238)"
                  fill="#6E7079"
            >
              $800
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1103.5 238)"
                  fill="#6E7079"
            >
              $1,000
            </text>
            <text dominant-baseline="central"
                  text-anchor="middle"
                  style="font-size:12px;font-family:sans-serif;"
                  y="6"
                  transform="translate(1294.2 238)"
                  fill="#6E7079"
            >
              $1,200
            </text>
            <path d="M150 182.1167l530.6228 0l0 39.1l-530.6227 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M150 125.45l1006.8388 0l0 39.1l-1006.8388 0Z"
                  fill="#5470c6"
            >
            </path>
            <path d="M150 68.7833l960.8896 0l0 39.1l-960.8896 0Z"
                  fill="#5470c6"
            >
            </path>
          </g>
        </svg>
      </div>
      <div class>
      </div>
    </div>
  </div>
</div>
<script type="application/json"
        id="page-title"
>
  "Dashboards"
</script>
`;
